(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[63277,80372],{203308:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var s=i(128177),n=i(383527);const r=function(e){return"number"==typeof e||(0,n.default)(e)&&"[object Number]"==(0,s.default)(e)}},120004:e=>{e.exports={}},834124:e=>{e.exports={}},922713:e=>{e.exports={text:"text-zegfTT5o",paragraph:"paragraph-zegfTT5o",list:"list-zegfTT5o"}},650401:(e,t,i)=>{"use strict";i.d(t,{getWidgetSheriffActions:()=>c});var s=i(125226),n=i(86674),r=i(911905),a=i(952598);const o=window.WIDGET_SHERIFF_HOST||"https://www.xstaging-widget.tv",l=(0,r.getLogger)("WidgetSheriff.Widget");let d=null;async function c(){return null===d&&(d=await async function(){if(!(0,s.isFeatureEnabled)("widget-sheriff"))return Promise.resolve([]);const e=document.location.ancestorOrigins&&document.location.ancestorOrigins.length?document.location.ancestorOrigins[document.location.ancestorOrigins.length-1]:null;if(null===e)return l.logWarn("ancestorOrigin is undefined"),Promise.resolve([]);const t=new URL("/sheriff/api/v1/rules/search",o);t.searchParams.append("origin",e);return(await(0,n.fetch)(t.toJSON()).then((e=>{if(!e.ok)throw new Error("Guard request error occured");return 204===e.status?Promise.resolve({actions:[]}):e.json()})).catch((e=>(l.logWarn(e.message),Promise.resolve({actions:[]}))))).actions.filter((e=>a.widgetSheriffActions.has(e)))}()),Promise.resolve(d)}},952598:(e,t,i)=>{"use strict";var s;i.d(t,{KnownAction:()=>s,widgetSheriffActions:()=>n}),function(e){e.Expand="expand-logo"}(s||(s={}));const n=new Set([s.Expand])},229534:(e,t,i)=>{"use strict";async function s(e){return(await Promise.all([i.e(15107),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(22850),i.e(55097),i.e(25977),i.e(13329),i.e(37225),i.e(37757)]).then(i.bind(i,173403))).createDialog(e)}function n(e){s(e).then((e=>e.open()))}i.d(t,{createErrorDialog:()=>s,showErrorDialog:()=>n})},503246:(e,t,i)=>{"use strict";i.d(t,{pathsByCategoryId:()=>s,categoryIdByPaths:()=>n,isStatementsCategoryPath:()=>r});const s={"income statements":"/financials-income-statement/","balance sheet":"/financials-balance-sheet/","cash flow":"/financials-cash-flow/",statistics:"/financials-statistics-and-ratios/",dividends:"/financials-dividends/",earnings:"/financials-earnings/"},n={"/financials-income-statement/":"income statements","/financials-balance-sheet/":"balance sheet","/financials-cash-flow/":"cash flow"};function r(e){return"/financials-income-statement/"===e||"/financials-balance-sheet/"===e||"/financials-cash-flow/"===e}},484443:(e,t,i)=>{"use strict";function s(e,t){let i=0;for(const{min:s,max:n}of t){if(e<s||n<s)continue;const t=Math.min(e,n);if(i=Math.max(i,t),e===i)break}return i}function n(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const i of e){let e,s;isFinite(i)?e=s=Number(i):(e=+i.min,s=+i.max),(e<0||isNaN(e))&&(e=0),isNaN(s)&&(s=1/0),e<=s&&s>0&&t.push({min:e,max:s})}return t.sort(((e,t)=>e.min-t.min||e.max-t.max)),t}function r(e,t){if(e.length!==t.length)return!1
;for(let i=e.length;i--;){if(e[i].min!==t[i].min)return!1;if(e[i].max!==t[i].max)return!1}return!0}i.d(t,{determineSize:()=>s,processNegotiation:()=>n,negotiationsAreEqual:()=>r})},90523:(e,t,i)=>{"use strict";i.d(t,{Root:()=>h});var s=i(262325),n=i.n(s),r=i(581996);class a{constructor(e){this._document=e,this.isFullscreen=new(n());const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const i=e[t];if(i in this._document){this.isFullscreen.setValue(!!this._document[i]);break}}};t();for(const i of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(i,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}var o=i(554433),l=i(314802),d=i(588537),c=i(638456);class h{constructor(e){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",`${e}px`,"important")},this._window=e,this._fullscreenApi=new a(e.document),this._viewportType=c.CheckMobile.iOS()&&!(0,l.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,d.ensure)(this._window.visualViewport):this._viewport=this._window;const t=this._layoutSizeSensor=this._window.document.createElement("div");t.id="layout-size-sensor",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.pointerEvents="none",t.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new o.VisibilityApi(this._window.document);const i={alive:new(n())(!0),fullscreenable:new(n())(!0),container:new(n())(t),width:new(n()),height:new(n()),availWidth:new(n()),availHeight:new(n()),visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{i.alive.setValue(!1)},attach:()=>{i.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return i.alive.subscribe((e=>{e||i!==this._area||this.free()})),this._area=i,this._resizeHandler=()=>{const e=this._width(i)||800,t=this._height(i)||600;i.availHeight.setValue(t),i.availWidth.setValue(e),i.height.setValue(t),i.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),
this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new r.ResizerDetacherState(i).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),i=null==t?void 0:t.parentElement;i&&(i.removeChild(t),i.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe((e=>{this._resizeHandler&&this._resizeHandler()}))}}},147731:(e,t,i)=>{"use strict";i.d(t,{backend:()=>N});var s={};i.r(s),i.d(s,{getCharts:()=>_,getChartsCount:()=>m,getDrawingTemplates:()=>I,getStandardStudyTemplateContentById:()=>T,getStudyTemplateContent:()=>S,getStudyTemplateContentById:()=>C,getStudyTemplatesList:()=>v,invalidateStudyTemplatesList:()=>y,loadChart:()=>p,loadDrawingTemplate:()=>L,removeChart:()=>f,removeDrawingTemplate:()=>A,removeStudyTemplate:()=>P,removeStudyTemplateById:()=>E,renameStudyTemplate:()=>x,replaceStudyTemplate:()=>k,saveChart:()=>g,saveDrawingTemplate:()=>D,saveStudyTemplate:()=>w});i(823127);var n=i(656130),r=i(87772);const a=(0,i(911905).getLogger)("Lib.AsyncGzip"),o=[];var l=i(86674);function d(e){if(e.ok)return e.json();throw new Error("not ok")}function c(e){if(e.ok)return e.json();throw new Error("not ok")}var h=i(314802),u=i(823127);function _(e){return new Promise(((t,i)=>{u.getJSON("/my-charts/",{limit:e},t).fail(i)}))}function m(e,t){u.getJSON("/api/v1/charts/count/",void 0,e).fail(t)}function p(e){const t=(0,n.generateChartUrl)({chartId:e.url}),i=document.createElement("a");i.href=t,!(0,h.isOnMobileAppPage)("new")&&/^\/chart(\/|$)/.test(location.pathname)&&(i.target="_blank",i.rel="noopener"),i.click()}function g(e,t,s,n,l){return function(e){let t;const s=new Promise(((s,n)=>{let a=setTimeout(n,5e3,new Error("Loading timed out"));t=o.pop()||new r.Worker(new URL(i.p+i.u(31482),i.b),{name:"Async gzip worker"}),t.onerror=n,t.onmessageerror=n,t.onmessage=e=>{clearTimeout(a),"done"===e.data.type?s(e.data.payload):a=setTimeout(n,3e4,new Error("Processing timed out"))},t.postMessage({type:"do",payload:e})}));return s.then((()=>{o.length<1?(delete t.onerror,delete t.onmessage,delete t.onmessageerror,o.push(t)):t.terminate()}),(e=>{a.logError(`Worker request failed: ${e.message}`),t.terminate()})),s}(n.content).catch((()=>null)).then((e=>{const t=new FormData;for(const i in n)"content"===i&&e?t.append(i,new Blob([e],{type:"application/gzip"}),"blob.gz"):t.append(i,String(n[i]));return fetch("/savechart/",{method:"POST",credentials:"same-origin",body:t})})).then((e=>{if(!e.ok)throw e
;return e.text()}))}function f(e){return new Promise(((t,i)=>{u.post("/deletechart/",{uid:[e]},(e=>{e.error?i(e.error):t()}))}))}let b=null;function v(){return null===b&&(b=(0,l.fetch)("/api/v1/study-templates",{credentials:"same-origin"}).then(d).then((e=>{const t=new Set((e.standard||[]).map((e=>e.name))),i=(e.custom||[]).map((e=>({...e,is_default:!1})));for(const e of i)t.delete(e.name);const s=(e.standard||[]).filter((e=>t.has(e.name))).map((e=>({...e,is_default:!0})));return[...i,...s]}))),b}function y(){b=null}function w(e){return t={name:e.name,content:e.content,meta_info:e.meta_info||{indicators:[]}},(0,l.fetch)("/api/v1/study-templates",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{if(e.ok)return e.json().then((e=>({result:e})));switch(e.status){case 403:return e.json().then((e=>({error:e.code})));case 422:return e.json().then((e=>({error:e.code,id:e.id})));default:throw new Error("not ok")}}));var t}async function S(e){throw new Error("Not implemented")}async function P(e){throw new Error("Not implemented")}function C(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin"}).then(d)})(e).then(t)}function T(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/standard/${e}`,{credentials:"same-origin"}).then(d)})(e).then(t)}function E(e,t){(function(e){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin",method:"DELETE"}).then((e=>{if(!e.ok)throw new Error("not ok")}))})(e).then(t)}function x(e,t,i){(function(e,t){return(0,l.fetch)(`/api/v1/study-templates/${e}/rename/`,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(d)})(e,{name:t}).then(i)}function k(e,t,i){(function(e,t){return(0,l.fetch)(`/api/v1/study-templates/${e}`,{credentials:"same-origin",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(d)})(e,{name:t.name,content:t.content,meta_info:t.meta_info||{indicators:[]}}).then(i)}function I(e){return function(e){return(0,l.fetch)(`/drawing-templates/${e}/`,{credentials:"same-origin"}).then(c)}(e)}function D(e,t,i){return function(e,t,i){const s=new FormData;return s.append("name",t),s.append("tool",e),s.append("content",i),(0,l.fetch)("/save-drawing-template/",{method:"POST",credentials:"same-origin",body:s}).then(c)}(e,t,i)}function L(e,t){return async function(e,t){const i=await(0,l.fetch)(`/drawing-template/${e}/?templateName=${encodeURIComponent(t)}`,{credentials:"same-origin"}),s=await c(i);return JSON.parse(s.content)}(e,t)}function A(e,t){return function(e,t){const i=new FormData;return i.append("name",t),i.append("tool",e),(0,l.fetch)("/remove-drawing-template/",{method:"POST",credentials:"same-origin",body:i}).then(c)}(e,t)}const N=s},670503:(e,t,i)=>{"use strict";i.d(t,{isDrawingToolbarVisible:()=>d});var s=i(62802),n=i(611688),r=i(262325),a=i.n(r)
;const o=!n.enabled("hide_left_toolbar_by_default"),l=s.getBool("ChartDrawingToolbarWidget.visible",o),d=new(a())(l)},911730:(e,t,i)=>{"use strict";i.d(t,{changedAll:()=>r,ChartChangesWatcher:()=>a});var s=i(97639),n=i.n(s);const r=3;class a{constructor(e,t,i){this._undoHistoryHasChanges=!1,this._changesMask=0,this._handleMetainfoChanged=()=>{this._changesMask=1|this._changesMask},this._recalculateHaveChanges=()=>{const e=this._undoHistoryHasChanges?1:0,t=this._lineToolsHaveChanges.value()?2:0,i=this._changesMask;this._changesMask=e|t,i!==this._changesMask&&this._onValueChanged.fire(0!==this._changesMask)},this._chartWidgetCollection=e,this._undoHistory=e.undoHistory,this._lineToolsHaveChanges=e.lineToolsSynchronizerHasChanges,this._chartSaver=t,this._globalEvents=i,this._onValueChanged=new(n()),this._subscribe()}destroy(){this._unsubscribe(),this._onValueChanged.destroy()}changes(){return this._changesMask}hasChanges(){return this._changesMask>0}getOnChange(){return this._onValueChanged}_subscribe(){this._globalEvents.subscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().subscribe(this,this._handleUndoHistoryChange),this._chartSaver.chartSaved().subscribe(this,this._handleChartSaved),this._lineToolsHaveChanges.subscribe(this._recalculateHaveChanges);this._chartWidgetCollection.metaInfo.name.subscribe(this._handleMetainfoChanged)}_unsubscribe(){this._globalEvents.unsubscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().unsubscribe(this,this._handleUndoHistoryChange),this._chartSaver.chartSaved().unsubscribe(this,this._handleChartSaved),this._lineToolsHaveChanges.unsubscribe(this._recalculateHaveChanges);this._chartWidgetCollection.metaInfo.name.unsubscribe(this._handleMetainfoChanged)}_setUndoHistoryHasChanges(e){this._undoHistoryHasChanges=e,this._recalculateHaveChanges()}_handleChartLoaded(){this._setUndoHistoryHasChanges(!1)}_handleUndoHistoryChange(e){e&&!e.customFlag("doesnt_affect_save")&&this._setUndoHistoryHasChanges(!0)}_handleChartSaved(e){e&&this._setUndoHistoryHasChanges(!1)}}},260339:(e,t,i)=>{"use strict";i.d(t,{takeChartSnapshotPromise:()=>o,takeChartSnapshot:()=>l,makeSnapshotRequest:()=>d});i(897116);var s=i(575932),n=i(611688),r=i(229534),a=i(86674);function o(e,t={}){return new Promise(((i,s)=>{l(e,i,s,t)}))}async function l(e,t,i,s={}){var n;const r=new FormData;if(void 0!==s.previews)for(const e of s.previews)r.append("previews[]",e);void 0!==s.cme&&r.append("cme",String(s.cme)),void 0!==s.wl&&r.append("wl",String(s.wl)),void 0!==s.onWidget&&r.append("onWidget",String(s.onWidget)),s.isReport&&r.append("isReport",String(s.isReport)),s.asyncSave&&r.append("asyncSave",String(s.asyncSave));const a=window.urlParams;a&&a.locale&&r.append("language",a.locale);const o=e.activeChartWidget.value(),l=o.widgetCustomer();void 0!==l&&r.append("customer",l);let c=o.properties().childs().timezone.value();"exchange"===c&&(c=(null===(n=o.model().mainSeries().symbolInfo())||void 0===n?void 0:n.timezone)||c),r.append("timezone",c),
r.append("symbol",o.model().mainSeries().symbol());const h=await e.clientSnapshot({showHeaderMainSymbol:s.showHeaderMainSymbol}),u=await new Promise((e=>h.toBlob(e)));null!==u&&r.append("preparedImage",u),d(r,t,i,s)}async function d(e,t,o,l={}){const d=n.enabled("charting_library_base")?l.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/";try{const n=await(0,a.fetch)(d,{body:e,method:"POST",credentials:"same-origin"}),c=await n.text();if(n.ok)t(c);else{if("suspicious_chart_snapshots_error"===c){const e=(0,s.t)("Snapshot seems to contain prohibited content. Please contact {start_link}our support team{end_link} if you have received this by mistake.").format({start_link:'<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',end_link:"</a>"});l.onInvalidSnapshotImage&&l.onInvalidSnapshotImage();return(0,r.createErrorDialog)({title:(0,s.t)("Your snapshot was flagged as suspicious"),content:e,btnType:"danger"}).then((e=>{e.on("afterOpen",(()=>{i.e(1484).then(i.bind(i,780567)).then((({bugDialogCreationHandler:t})=>{t(),e.$el.find(".js-send-report-link").click((()=>{e.close()}))}))})),e.open()}))}o()}}catch(e){o()}}},782991:(e,t,i)=>{"use strict";i.d(t,{PinePerm:()=>l});i(823127);var s=i(86674),n=i(823127);const r="user__username";function a(e){const t=new FormData;return t.append("pine_id",e.pine_id),t.append("username_recip",e.username_recip),e.expiration&&t.append("expiration",e.expiration),t}class o extends Error{constructor(e,t,i){super(e),this.title=i,this.code=t}}var l;!function(e){let t;!function(e){e.UserDoesNotHavePermission="user_does_not_have_permission",e.UserIsBanned="user_is_banned",e.Exists="exists"}(t=e.StatusCode||(e.StatusCode={})),e.add=function(e){return window.is_authenticated?(0,s.fetch)("/pine_perm/add/",{body:a(e),credentials:"include",method:"POST"}).then((e=>e.json().then((t=>{const i=t.status;if("exists"===i)throw new o(i,i);if(!e.ok)throw new o(t.detail,t.code,t.title)})))):Promise.reject()},e.remove=function(e,t){return window.is_authenticated?n.ajax({data:{pine_id:t,username_recip:e},dataType:"json",type:"POST",url:"/pine_perm/remove/"}):n.Deferred().reject()},e.listUsers=function(e){const{pineId:t,next:i,prev:s,username:a,orderBy:o=r,limit:l=10}=e;return!window.is_authenticated||s&&!i?n.Deferred().reject():n.ajax({data:{pine_id:t,username:a},dataType:"json",type:"POST",url:i||s?`${i}`:`/pine_perm/list_users/?limit=${l}&order_by=${o}`})},e.listScripts=function(){return window.is_authenticated?n.ajax({dataType:"json",type:"POST",url:"/pine_perm/list_scripts/"}):n.Deferred().reject()},e.modifyUserExpiration=function(e){return window.is_authenticated?(0,s.fetch)("/pine_perm/modify_user_expiration/",{body:a(e),credentials:"include",method:"POST"}).then((e=>{if(!e.ok)return e.json().then((e=>{throw Error(e.detail)}))})):Promise.reject()},e.numberOfUsersWithAccess=function(e){return window.is_authenticated?(0,s.fetch)(`/pine_perm/list_users/?pine_id=${e}`,{method:"GET"}).then((e=>e.ok?e.json():e.json().then((e=>{throw new o(e.detail)})))):Promise.reject()}
}(l||(l={}))},180372:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SeriesDataSource:()=>y,initialRequestOptionsToNumBars:()=>v,parseJapaneseProjectionBars:()=>w});var s=i(588537),n=i(270617),r=i(15693),a=i(273044),o=i(103653),l=i(695078),d=i(908803),c=i(97639),h=i.n(c);class u{constructor(){this._modified=new(h()),this._loading=new(h()),this._completed=new(h()),this._error=new(h()),this._symbolError=new(h()),this._symbolResolved=new(h()),this._seriesError=new(h()),this._symbolNotPermitted=new(h()),this._symbolInvalid=new(h()),this._symbolGroupNotPermitted=new(h()),this._chartTypeNotPermitted=new(h()),this._intradaySpreadNotPermitted=new(h()),this._intradayExchangeNotPermitted=new(h()),this._customIntervalNotPermitted=new(h()),this._secondsIntervalNotPermitted=new(h()),this._tickMarksRangeChanged=new(h()),this._barReceived=new(h()),this._seriesTimeFrame=new(h()),this._dataUpdated=new(h())}destroy(){this._modified.destroy(),this._loading.destroy(),this._completed.destroy(),this._error.destroy(),this._symbolError.destroy(),this._symbolResolved.destroy(),this._seriesError.destroy(),this._symbolInvalid.destroy(),this._symbolNotPermitted.destroy(),this._symbolGroupNotPermitted.destroy(),this._chartTypeNotPermitted.destroy(),this._intradaySpreadNotPermitted.destroy(),this._intradayExchangeNotPermitted.destroy(),this._customIntervalNotPermitted.destroy(),this._secondsIntervalNotPermitted.destroy(),this._tickMarksRangeChanged.destroy(),this._barReceived.destroy(),this._seriesTimeFrame.destroy(),this._dataUpdated.destroy()}modified(){return this._modified}loading(){return this._loading}completed(){return this._completed}error(){return this._error}symbolError(){return this._symbolError}symbolResolved(){return this._symbolResolved}seriesError(){return this._seriesError}symbolInvalid(){return this._symbolInvalid}symbolNotPermitted(){return this._symbolNotPermitted}symbolGroupNotPermitted(){return this._symbolGroupNotPermitted}chartTypeNotPermitted(){return this._chartTypeNotPermitted}intradaySpreadNotPermitted(){return this._intradaySpreadNotPermitted}intradayExchangeNotPermitted(){return this._intradayExchangeNotPermitted}customIntervalNotPermitted(){return this._customIntervalNotPermitted}secondsIntervalNotPermitted(){return this._secondsIntervalNotPermitted}tickMarksRangeChanged(){return this._tickMarksRangeChanged}barReceived(){return this._barReceived}seriesTimeFrame(){return this._seriesTimeFrame}dataUpdated(){return this._dataUpdated}fireCompleted(e){this._completed.fire(e)}fireModified(){this._modified.fire()}fireLoading(e){this._loading.fire(e)}fireError(){this._error.fire()}fireSymbolError(e){this._symbolError.fire(e),this.fireError()}fireSymbolResolved(e){this._symbolResolved.fire(e)}fireSeriesError(e){this._seriesError.fire(e),this.fireError()}fireSymbolInvalid(){this._symbolInvalid.fire()}fireSymbolNotPermitted(e){this._symbolNotPermitted.fire(e)}fireSymbolGroupNotPermitted(e){this._symbolGroupNotPermitted.fire(e)}fireChartTypeNotPermitted(e){this._chartTypeNotPermitted.fire(e),this.fireError()}
fireIntradaySpreadNotPermitted(){this._intradaySpreadNotPermitted.fire(),this.fireError()}fireIntradayExchangeNotPermitted(){this._intradayExchangeNotPermitted.fire(),this.fireError()}fireCustomIntervalNotPermitted(){this._customIntervalNotPermitted.fire(),this.fireError()}fireSecondsIntervalNotPermitted(){this._secondsIntervalNotPermitted.fire(),this.fireError()}fireTickMarksRangeChanged(e){this._tickMarksRangeChanged.fire(e)}fireBarReceived(e){this._barReceived.fire(e)}fireSeriesTimeFrame(e,t,i,s,n){this._seriesTimeFrame.fire(e,t,i,s,n)}fireDataUpdated(e,t,i){this._dataUpdated.fire(e,t,i)}}var _=i(911905),m=i(749473);const p=(0,_.getLogger)("Chart.SeriesDataSource");var g;!function(e){e[e.Idle=0]="Idle",e[e.AwaitingConnection=1]="AwaitingConnection",e[e.AwaitingFirstDataUpdate=2]="AwaitingFirstDataUpdate",e[e.Active=3]="Active"}(g||(g={}));let f=1;let b=1;function v(e){return e.startDate?e.endDate||e.count?e.endDate?["from_to",e.startDate,e.endDate]:["bar_count",e.startDate,(0,s.ensure)(e.count)]:["from_to",e.startDate]:e.count||300}class y{constructor(e,t,i,s){this._symbol=null,this._resolvedSymbolName=null,this._instanceId=null,this._symbolInstanceId=null,this._resolution=null,this._timeFrame=null,this._data=new o.SeriesData,this._dataEvents=new u,this._status=g.Idle,this._turnaroundCounter=1,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),this._gateway=e,this._turnaroundPrefix=t,this._createSeriesParams=v(null!=i?i:{count:300}),this._timeFrame=s||null,this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}destroy(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged)}modifySeries(e,t,i=null,r=!1){r&&(p.logNormal("Due to force flag clearing symbol & resolution to force re-requesting data."),this._symbol=null,this._resolution=null);const o=this._symbol,l=this._resolution;if(this._symbol=e,this._resolution=t,null===this._instanceId)return void(this._timeFrame=i);const d=!(0,n.deepEquals)(o,e)[0]||null!==this._resolvedSymbolName&&this._resolvedSymbolName!==this._getSymbolNameString(e),c=null===l||!a.Interval.isEqual(l,t);(d||c||null!==i)&&(this._timeFrame=null,(d||c)&&this._turnaroundCounter++,d&&this._resolveSymbol(),this._gateway.modifySeries(this._instanceId,this.turnaround(),(0,s.ensureNotNull)(this._symbolInstanceId),this._resolution,i,this._onMessage.bind(this)),this._dataEvents.fireModified())}requestMoreData(e){null!==this._instanceId&&this._gateway.requestMoreData(this._instanceId,e,this._onMessage.bind(this))}requestMoreTickmarks(e){null!==this._instanceId&&this._gateway.requestMoreTickmarks(this._instanceId,e,this._onMessage.bind(this))}isStarted(){return this._status!==g.Idle}isActive(){return this._status===g.Active}resolution(){return this._resolution}start(){this.isStarted()?p.logNormal("start: data source is already started, nothing to do"):((0,s.assert)(null!==this._symbol,"symbol must be set before start"),(0,
s.assert)(null!==this._resolution,"resolution must be set before start"),this._gateway.isConnected().value()?this._createSeries():this._changeStatusTo(g.AwaitingConnection))}stop(){this.isStarted()?(null!==this._instanceId&&(this._gateway.removeSeries(this._instanceId),this._instanceId=null),this._changeStatusTo(g.Idle)):p.logNormal("stop: data source is already stopped, nothing to do")}instanceId(){return this._instanceId}data(){return this._data}clearData(){this.isStarted()?this._enqueueUpdate((()=>this._clearDataImpl())):this._clearDataImpl()}dataEvents(){return this._dataEvents}turnaround(){return`${this._turnaroundPrefix}${this._turnaroundCounter}`}symbolInstanceId(){return this._symbolInstanceId}symbol(){return this._symbol}moveData(e){this._enqueueUpdate((()=>this._data.moveData(e)))}_resolveSymbol(){null!==this._symbol&&(this._symbolInstanceId=this._gateway.resolveSymbol("sds_sym_"+f++,(0,r.encodeExtendedSymbolOrGetSimpleSymbolString)(this._symbol),this._onMessage.bind(this)))}_clearDataImpl(){this._data.clear()}_changeStatusTo(e){(0,s.assert)(this._status!==e,"Source and destination status should be distinct"),p.logNormal(`Status changed from ${g[this._status]} to ${g[e]}`),this._status=e}_createSeries(){(0,s.assert)(this._status!==g.Active,'Status should not be "Active" when creating a study'),this._instanceId="sds_"+b++,this._resolveSymbol(),this._gateway.createSeries(this._instanceId,this.turnaround(),(0,s.ensureNotNull)(this._symbolInstanceId),(0,s.ensureNotNull)(this._resolution),this._createSeriesParams,this._timeFrame,this._onMessage.bind(this)),this._timeFrame=null,this._changeStatusTo(g.AwaitingFirstDataUpdate)}_onGatewayIsConnectedChanged(e){e?this._onGatewayConnected():this._onGatewayDisconnected()}_onGatewayConnected(){this._status===g.AwaitingConnection&&this._createSeries()}_onGatewayDisconnected(){this._status!==g.Idle&&this._status!==g.AwaitingConnection&&(this._instanceId=null,this._changeStatusTo(g.AwaitingConnection)),this._turnaroundCounter=1}_onMessage(e){this._enqueueUpdate((()=>this._onMessageImpl(e)))}async _onMessageImpl(e){switch(e.method){case"symbol_resolved":{const[t,i]=e.params;if(t!==this._symbolInstanceId){p.logNormal(`Resolve for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolResolved(i);break}case"symbol_error":if(e.params[0]!==this._symbolInstanceId){p.logNormal(`Symbol error for old symbol, expected: ${this._symbolInstanceId}, actual ${e.params[0]}`);break}this._onSymbolError(e);break;case"series_timeframe":{const[t,i,s,n,r,a,o]=e.params;if(!this._checkTurnaround(t,i)){p.logNormal(`Time frame for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${i})`);break}this._onSeriesTimeFrame(s,n,r,a,o);break}case"series_error":{const[t,i]=e.params;if(!this._checkTurnaround(t,i)){p.logNormal(`Series error for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${i})`);break}this._onSeriesError(e.params[2]);break}case"series_loading":{const[t,i]=e.params
;if(!this._checkTurnaround(t,i))break;this._onSeriesLoading(e.time);break}case"series_completed":{const[t,i,s,n]=e.params;if(!this._checkTurnaround(t,s)){p.logNormal(`Series completed for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${t} (${s})`);break}this._onSeriesCompleted(i,e.time,n);break}case"data_update":if(!this._checkTurnaround(e.params.customId,e.params.turnaround)){p.logNormal(`Data update for old data, expected: ${this._symbolInstanceId} (${this.turnaround()}), actual ${e.params.customId} (${e.params.turnaround})`);break}await this._onDataUpdate(e.params.plots,e.params.nonseries,e.params.lastBar);break;case"clear_data":if(e.params.turnaround!==this.turnaround()){p.logNormal(`Clear data for old data, expected: ${this.turnaround()}, actual ${e.params.turnaround}`);break}this._clearDataImpl(),this._dataEvents.fireDataUpdated(void 0,!1,null)}}_onSeriesError(e){let t,i;if("string"==typeof e)i={error:e},t=e;else if(i=e,e.ctx){const i={};Object.entries(e.ctx).forEach((([e,t])=>{i[e]=t.toString()})),t=e.error.format(i)}else t=e.error;if(t.startsWith("study_not_auth:")){const e=t.split(":",2)[1].split("@",2)[0];["BarSetRenko","BarSetPriceBreak","BarSetKagi","BarSetPnF"].includes(e)?this._dataEvents.fireChartTypeNotPermitted(e):"BarSetSpread"===e?this._dataEvents.fireIntradaySpreadNotPermitted():"BarSetRange"===e&&this._dataEvents.fireCustomIntervalNotPermitted()}else"resolution_not_entitled"===t?this._dataEvents.fireIntradayExchangeNotPermitted():"custom_resolution"===t?this._dataEvents.fireCustomIntervalNotPermitted():"seconds_not_entitled"===t&&this._dataEvents.fireSecondsIntervalNotPermitted();this._dataEvents.fireSeriesError(i)}_onSeriesTimeFrame(e,t,i,s,n){this._dataEvents.fireSeriesTimeFrame(e,t,i,null==s||s,n)}_onSymbolError(e){if(e.params[1]===d.permissionDenied)switch(e.params[2]){case d.SymbolErrorPermissionDeniedReason.Symbol:this._dataEvents.fireSymbolNotPermitted(e.params[3]);break;case d.SymbolErrorPermissionDeniedReason.GroupPermission:this._dataEvents.fireSymbolGroupNotPermitted(e.params[3]);break;default:this._dataEvents.fireSymbolNotPermitted(e.params[2])}else e.params[1]===d.invalidSymbol&&this._dataEvents.fireSymbolInvalid();this._dataEvents.fireSymbolError(e.params[1])}_onSymbolResolved(e){this._resolvedSymbolName=(0,m.symbolForApi)(e,this._getSymbolNameString((0,s.ensureNotNull)(this._symbol))),this._dataEvents.fireSymbolResolved(e)}_getSymbolNameString(e){return"string"==typeof e.symbol?e.symbol:e.symbol.symbol}async _onDataUpdate(e,t,i){this._onDataUnpacked(e,i,await w(t))}_enqueueUpdate(e){return this._ongoingDataUpdate=this._ongoingDataUpdate.then(e,e),this._ongoingDataUpdate}_onDataUnpacked(e,t,i){if(this._status===g.Idle)return;this._status===g.AwaitingFirstDataUpdate&&(this._changeStatusTo(g.Active),this._clearDataImpl());const s=this._data.bars().size(),n=this._data.bars().firstIndex(),r=this._data.mergeRegularBars(e);null!==i&&(this._data.nsBars().clear(),this._data.nsBars().merge(i.projectionPlots),this._data.lastProjectionPrice=i.lastPrice,
null!==i.boxSize&&(this._data.boxSize=i.boxSize),this._data.reversalAmount=i.reversalAmount);const a=null===n||null!==r&&r.index<n;this._dataEvents.fireDataUpdated(t,a,r),s!==this._data.bars().size()&&null!==r&&this._dataEvents.fireBarReceived(r)}_onSeriesLoading(e){this._dataEvents.fireLoading(e)}_onSeriesCompleted(e,t,i){this._dataEvents.fireCompleted({updateMode:e,time:t,flags:i})}_checkTurnaround(e,t){return this._instanceId===e&&(void 0===t||t===this.turnaround())}}async function w(e){if(void 0===e)return{projectionPlots:[],boxSize:null};if(""===e.d||"nochange"===e.indexes)return null;const t=await(0,l.unpackNonSeriesData)(e.d);if(null===t||t.indexes_replace)return null;const i=e.indexes,{bars:s,price:n,boxSize:r,reversalAmount:a}=t.data;return{lastPrice:n,projectionPlots:(s||[]).map((e=>{let t;return"factor"in e?t=e.factor:"additionalPrice"in e&&(t=e.additionalPrice),{index:i[e.time],value:[0,e.open,e.high,e.low,e.close,e.volume,t]}})),reversalAmount:a,boxSize:r}}},691116:(e,t,i)=>{"use strict";i(68522),i(120004);var s=i(62802),n=i.n(s),r=i(611688);r.enabled("use_localstorage_for_settings")&&n().sync(void 0);var a=i(86674),o=i(575932),l=i(385518),d=i(264170),c=i.n(d),h=i(798935),u=i(260339),_=i(314370),m=i.n(_),p=i(472576),g=i(583912),f=i(166437),b=i.n(f),v=i(934440),y=i.n(v),w=i(124418),S=i(749473),P=i(273044),C=i(364019);function T(){return Promise.all([i.e(74784),i.e(45702)]).then(i.bind(i,328664))}var E=i(721386),x=i(360025),k=i(823127);class I{constructor({resizerBridge:e,publishOptions:t}){this._publishOptions=t,e.negotiateHeight(31),e.container.subscribe(this._render.bind(this),{callWithLast:!0})}_render(e){k(e).empty().css("overflow","hidden");const t=k("<div>",e).attr("id","footer-chart-panel").addClass("publish-widget").appendTo(e),i=k("<div>",e).addClass("publish-buttons").appendTo(t);"dailyfx"===this._publishOptions.publishSource&&k('<label class="usage-help">For a guide on using Trading View charts, please click <a target="_blank" href="https://media.dailyfx.com/docs/TradingView.pdf">here</a>.</label>').appendTo(t),k('<a class="publish-chart-button"></a>').html((0,o.t)("Publish Idea")).on("click",(e=>{e.preventDefault(),(0,x.publishChartWidget)(this._publishOptions)})).addClass("apply-common-tooltip").attr("title",(0,o.t)("Share your idea with the trade community")).appendTo(i)}}var D=i(885908),L=i(262325),A=i.n(L);class N{constructor(e,t){this._visibility=new(A())(!1),this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e,this._options=t,this._indicatorsPreloader=new D.IndicatorsPreloader(e)}visible(){return this._visibility.readonly()}show(e,t){var i,s;const n=(null===(i=this._options)||void 0===i?void 0:i.onWidget)?void 0:this._indicatorsPreloader.getIndicatorPromises();null===this._dialog&&this._requestDialog(e,n,t),null===(s=this._dialog)||void 0===s||s.open(e,n,t)}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}resetAllPages(){var e;null===(e=this._dialog)||void 0===e||e.resetAllStudies()}_requestDialog(e,t,s){var n;if(null===this._dialogPromise){let r
;r=(null===(n=this._options)||void 0===n?void 0:n.onWidget)?Promise.all([i.e(90519),i.e(90926),i.e(10146),i.e(8834),i.e(30063),i.e(37135),i.e(8348),i.e(80580),i.e(21834),i.e(68074),i.e(52498),i.e(95468),i.e(99740),i.e(37619),i.e(5799),i.e(52019),i.e(18867),i.e(12580),i.e(59283),i.e(11812),i.e(29462),i.e(73327),i.e(81532),i.e(91488),i.e(91879),i.e(95619),i.e(75494),i.e(80371),i.e(90215),i.e(87995),i.e(69397),i.e(68258),i.e(6456)]).then(i.bind(i,210794)).then((e=>new e.IndicatorsLibraryContainer(this._chartWidgetCollection,this._options))):Promise.all([i.e(90519),i.e(90926),i.e(10146),i.e(8834),i.e(30063),i.e(37135),i.e(8348),i.e(80580),i.e(21834),i.e(68074),i.e(52498),i.e(95468),i.e(99740),i.e(37619),i.e(5799),i.e(52019),i.e(18867),i.e(12580),i.e(59283),i.e(11812),i.e(29462),i.e(73327),i.e(81532),i.e(91488),i.e(91879),i.e(95619),i.e(75494),i.e(80371),i.e(90215),i.e(87995),i.e(69397),i.e(68258),i.e(6456)]).then(i.bind(i,773801)).then((e=>new e.IndicatorsContainer(this._chartWidgetCollection))),this._dialogPromise=r.then((i=>{this._dialog=i,this._dialog.visible().subscribe((e=>{this._visibility.setValue(e)})),this._dialog.open(e,t,s)}))}return this._dialogPromise}}var F=i(670503),W=i(440135),B=i(909740),R=i(778785),O=i(126974),M=i(410899),z=i(596080);var H=i(640435),V=i(12481),U=i(86441),j=i(934026),q=i(391055),$=i(588537),G=i(506656),Y=i(218718),J=i(876242),X=i(3008),K=i(164149),Q=i(824112),Z=i(227185),ee=i(327265),te=i(826384),ie=i(650401),se=i(952598),ne=i(291753),re=i(588427),ae=i(405222);i(834124);const oe="TradingView",le="Ch{0}ar{1}t{2}by{3}{4}".format("",""," "," ",oe),de="po{0}wer{1}ed{2}by{3}{4}".format("",""," "," ",oe),ce=("by{3}{4}".format("",""," "," ",oe),de),he="site_branding",ue="widget_branding",_e="widget_referral_branding",me="widget_custom_branding",pe="widget_custom_no_powered_branding",ge="fundamental_branding",fe="fundamental_custom_branding",be="fundamental_custom_no_powered_branding",ve="library_branding",ye="library_custom_branding",we="library_custom_no_powered_branding",Se=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("edge"),Pe=window.urlParams||{},Ce=window.initData||{};(Pe.referral_id||Pe.no_referral_id)&&(0,Z.enable)(Pe.referral_id||"","aggressive");const Te=(0,o.t)("By TradingView"),Ee=(0,o.t)("{symbol} financials by TradingView"),xe=(0,o.t)("powered by")+" ";(0,o.t)(le),(0,o.t)(ce);function ke(e){return"px EuclidCircular"===e?.1:0}class Ie extends G.CustomSourceBase{constructor(e,t,i,s){super(e,t),this._canvasWidth=0,this._paneHeight=0,this._left=13,this._bottom=16,this._layout=he,this._needToShow=!0,this._showBranding=!1,this._customLogoSrc="",this._customLogoLink="",this._cubicBezier=new J.CubicBezier(.4,.01,.22,1),this._openAnimation=null,this._closeAnimation=null,this._powBy=null,this._custom=null,this._mainSeries=this._model.mainSeries(),this._showAllowance=i,this._showForPro=Boolean(s),this._checkLayout(),this._layout!==me&&this._layout!==fe||(this._left=8,this._bottom=5);const n=()=>{
this._needToShow?this._showBranding=!0:this._showBranding=!1};this._resizeHandlerDelayed=(0,V.default)(n,200),n(),window.addEventListener("resize",this._resizeHandlerDelayed),this._monitorCanvas=(0,Q.createDisconnectedBoundCanvas)(document,(0,H.size)({width:0,height:0})),this._monitorCanvas.subscribeSuggestedBitmapSizeChanged((()=>{this._init()})),this._model.isSnapshot()?this._init():(this._mainSeries.dataEvents().symbolResolved().subscribe(this,this._init),null!==this._mainSeries.symbolInfo()&&this._init()),this._renderer={draw:this.draw.bind(this),hitTest:this.hitTest.bind(this)}}destroy(){window.removeEventListener("resize",this._resizeHandlerDelayed),this._mainSeries.dataEvents().symbolResolved().unsubscribeAll(this),this._powBy&&this._powBy.destroy()}paneViews(e){if(window.TradingView.printing)return[];if(!this._showAllowance())return[];if(this._layout===he&&!this._showForPro&&window.user&&window.user.is_pro)return[];const t=r.enabled("move_logo_to_main_pane");let i=!1;if(e.maximized().value())i=!0;else if(t)i=this._model.mainPane().collapsed().value()?e===this._model.panes().find((e=>!e.collapsed().value())):e.isMainPane();else if(this._model.lastPane().collapsed().value()){const t=this._model.panes();for(let s=t.length-1;s>=0;--s){const n=t[s];if(!n.collapsed().value()){i=n===e;break}}}else i=e.isLast();return i?[{renderer:this.renderer.bind(this)}]:[]}labelPaneViews(e){return[]}priceAxisViews(e,t){return[]}updateAllViews(){}updateViewsForPane(e){}priceScale(){return null}renderer(e,t){return this._paneHeight=e,this._canvasWidth=t,this._renderer}hasContextMenu(){return!1}onClickOutside(){this._hasAnimation()&&this._startCloseAnimation()}hitTest(e){return!this._showBranding||r.enabled("logo_without_link")?null:this._powBy&&this._layout!==pe&&this._layout!==be&&(this._powBy.hitTest(e)||this._custom&&this._custom.hitTest(e))?new Y.HitTestResult(Y.HitTestResult.CUSTOM,{hideCrosshairLinesOnHover:!0,clickHandler:()=>{this._openLink()},tapHandler:()=>{this._hasAnimation()?this._toggleOpenAnimatedOrOpenLink():this._openLink()},mouseEnterHandler:()=>{this._hasAnimation()&&this._startOpenAnimation()},mouseLeaveHandler:()=>{this._hasAnimation()&&this._startCloseAnimation()}}):null}tvUrl(){var e;let t=new URL("https://www.tradingview.com/");{const i=(null===(e=this._mainSeries.symbolInfo())||void 0===e?void 0:e.pro_name)||"";if(r.enabled("referral_program_for_widget_owners")){const e=(0,Z.referenceToTradingView)(),s=e.indexOf("utm_source");return-1!==s&&(t=new URL(e.slice(0,s))),t.searchParams.append("utm_source",Pe.utm_source||""),t.searchParams.append("utm_medium",Pe.utm_medium||""),t.searchParams.append("utm_campaign",Pe.utm_campaign||""),t.searchParams.append("utm_term",i),t.toString()}const s=this._mainSeries.symbolInfo(),n=(null==s?void 0:s.name)||"APPL",a=(null==s?void 0:s.listed_exchange)||"";if(!Ce.customer&&n){const e=(0,ee.getSymbolPagePath)({shortName:n,exchange:a});t=new URL(t.toString().replace(/\/$/,"")+e)}t.searchParams.append("utm_source",Pe.utm_source||""),
t.searchParams.append("utm_medium",Pe.utm_medium||""),t.searchParams.append("utm_campaign",Pe.utm_campaign||""),t.searchParams.append("utm_term",i)}return t.toString()}draw(e,t){if(!this._showBranding)return;let i=0;Pe.utm=!0,(0,Q.drawScaled)(e,t.pixelRatio,(()=>{this._powBy&&this._powBy.show&&(i=this._powBy.height,e.save(),e.translate(this._left,this._paneHeight-this._bottom-i),this._powBy.draw(e,t,this._canvasWidth),e.restore()),this._custom&&this._custom.show&&(e.save(),e.translate(this._left,this._paneHeight-this._bottom-i-this._custom.height),this._custom.draw(e,t),e.restore())}))}_init(){const e=this._mainSeries.symbolInfo();this._powBy&&this._powBy.destroy(),this._powBy=new Be(this._layout,(null==e?void 0:e.name)||"",this._model,(()=>this._model.fullUpdate())),this._custom=new Re(this._layout,this._customLogoSrc,(()=>this._model.fullUpdate())),this._openAnimation=null,this._closeAnimation=null,(0,ie.getWidgetSheriffActions)().then((e=>{e.includes(se.KnownAction.Expand)&&(this._startOpenAnimation(),this._closeAnimation={stop:()=>{},completed:()=>!1})}))}_checkLayout(){if(r.enabled("widget")){const e=Ce.logo||{},t=r.enabled("fundamental_widget");this._needToShow=!(Ce.whitelabel||Pe.whitelabel||e.whitelabel),e.image?(this._customLogoSrc="/static/images/widget-embed-logo/"+e.image,e.no_powered_by?this._layout=t?be:pe:this._layout=t?fe:me):Pe.referral_id||Pe.no_referral_id?this._layout=_e:this._layout=t?ge:ue}else if(r.enabled("charting_library")||r.enabled("trading_terminal")){const e=JSON.parse(Pe.logo)||{};e.image?(this._customLogoSrc=e.image,this._customLogoLink=e.link,this._needToShow=r.enabled("widget_logo"),r.enabled("link_to_tradingview")?this._layout=ye:this._layout=we):(this._layout=ve,this._needToShow=r.enabled("widget_logo"))}else this._layout=he}_startOpenAnimation(){null===this._openAnimation&&(null!==this._closeAnimation&&(this._closeAnimation.stop(),this._closeAnimation=null),this._openAnimation=(0,X.doAnimate)({from:this._currentStateForAnimation(),to:this._openedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}_startCloseAnimation(){null===this._closeAnimation&&(null!==this._openAnimation&&(this._openAnimation.stop(),this._openAnimation=null),this._closeAnimation=(0,X.doAnimate)({from:this._currentStateForAnimation(),to:this._closedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}_currentStateForAnimation(){return(0,$.ensureNotNull)(this._powBy).width}_closedStateForAnimation(){return(0,$.ensureNotNull)(this._powBy).minimizedAnimationWidth()}_openedStateForAnimation(){return(0,$.ensureNotNull)(this._powBy).maximizedAnimationWidth()}_animatedDrawStep(e,t){(0,$.ensureNotNull)(this._powBy).animatedDrawStep(e,t),this._model.lightUpdate()}_hasAnimation(){return null!==this._powBy&&this._powBy.hasAnimation()}_openLink(){if(this._layout===he)return!1;r.enabled("widget")&&(0,te.sendWidgetTrackData)(this.tvUrl(),"copyright");return(0,
$.ensureNotNull)(window.open(this.tvUrl(),"_blank")).opener=null,!0}_toggleOpenAnimatedOrOpenLink(){null!==this._openAnimation&&this._openAnimation.completed()?this._openLink()||this._startCloseAnimation():this._startOpenAnimation()}}const De={customBrandingTradingViewText:q.colorsPalette["color-brand"],customBrandingText:q.colorsPalette["color-cold-gray-850"],background:q.colorsPalette["color-cold-gray-900"],shadow:(0,E.generateColor)(q.colorsPalette["color-white"],91),text:q.colorsPalette["color-white"],staticTextBackground:(0,E.generateColor)(q.colorsPalette["color-cold-gray-800"],20),logo:q.colorsPalette["color-white"]},Le={customBrandingTradingViewText:q.colorsPalette["color-brand"],customBrandingText:q.colorsPalette["color-cold-gray-850"],background:q.colorsPalette["color-white"],shadow:(0,E.generateColor)(q.colorsPalette["color-black"],91),text:q.colorsPalette["color-cold-gray-900"],staticTextBackground:(0,E.generateColor)(q.colorsPalette["color-white"],20),logo:q.colorsPalette["color-cold-gray-900"]};const Ae={};function Ne(e,t){const i=Ae[e];if(void 0!==i)return i.image||null;const s={};return Ae[e]=s,function(e){return new Promise((t=>{const i=ne.replace(/fill="#[\da-f]{6}"/i,`fill="${e}"`),s=new Image;s.onload=()=>{s.onload=null,t(s)},s.src=URL.createObjectURL(new Blob([i],{type:"image/svg+xml"}))}))}(e).then((e=>{s.image=e,t()})),null}function Fe(e){const{a:t,d:i,e:s,f:n}=e;return new U.Point(s/t,n/i)}class We{constructor(){this._originPoint=null}hitTest(e){const t=this._getHitTestBox();if(t)return(0,j.pointInBox)(e,t)}_getHitTestBox(){const e=this._originPoint;if(e){const{x:t,y:i}=e;return(0,U.box)(e,new U.Point(t+this.width,i+this.height))}}}class Be extends We{constructor(e,t,i,s){if(super(),this.show=!0,this.borderRadius=0,this._needDisplayImage=!1,this._imageWidth=22,this._imageHeight=11,this._animatedWidth=32,this._font=`px ${re.CHART_FONT_FAMILY}`,this._txt="TradingView",this._textWidth=0,this._maximizedAnimationTextWidth=0,this._textWidthCache=new ae.TextWidthCache,this._pixelRatio=1,this._model=i,this._layout=e,this._symbol=t,this.showAnimatedBranding=r.enabled("show_animated_logo")||this._layout===ue,this._fontSize=this.showAnimatedBranding||this._layout===_e?11:14,this.showAnimatedBranding||this._layout!==me&&this._layout!==fe||(this._fontSize=12),this.width=32,this.height=this._fontSize+2,this._onReadyCallback=s,this._init(),document.fonts&&document.fonts.check&&document.fonts.load){document.fonts.check(`${this._fontSize}px EuclidCircular`)?this._font="px EuclidCircular":document.fonts.load(`${this._fontSize}px EuclidCircular`,this._txt).then((()=>{this._font="px EuclidCircular",this._recalculateMetrics()}))}this._recalculateMetrics()}destroy(){this._model.properties().childs().paneProperties.childs().background.unsubscribeAll(this),this._model.onChartThemeLoaded().unsubscribeAll(this)}hasAnimation(){return this.showAnimatedBranding}minimizedAnimationWidth(){return 32}maximizedAnimationWidth(){return this._maximizedAnimationTextWidth+32-3}animatedDrawStep(e,t){this._animatedWidth=t}
draw(e,t,i){t.pixelRatio!==this._pixelRatio&&(this._textWidthCache.reset(),this._pixelRatio=t.pixelRatio);const s=this._colors;if(this.showAnimatedBranding)this._needDisplayImage&&null!==this._getLogoImage(s.logo)&&(e.save(),e.translate(-Math.ceil((32-this._imageWidth)/2),Math.floor((32-this._imageHeight)/2)),this._originPoint=Fe(e.getTransform()),this.borderRadius=16,this._drawFillRectWithRoundedCorner(e,-.5,0,this._animatedWidth,32,this.borderRadius),this._drawLogoImage(e,Math.round((32-this._imageWidth)/2),Math.round((32-this._imageHeight)/2)+0),this._animatedWidth>32&&(e.translate(Math.round(32),Math.round(this._fontSize*ke(this._font))),this._drawFillTextCropWidth(e,this._animatedWidth-32)),e.restore(),this.width=this._animatedWidth);else if(this._layout===me||this._layout===fe){e.font=this._fontSize+this._font;const t=e.measureText(this._txt).width+2;this.width=t+e.measureText("TradingView").width+2,this._originPoint=Fe(e.getTransform()),e.save(),e.globalAlpha=.7,e.fillStyle=this._colors.customBrandingText,e.fillText(this._txt,0,12),e.fillStyle=this._colors.customBrandingTradingViewText,e.fillText("TradingView",t,12),e.restore()}else if(this._layout===_e){if(this._getLogoImage(s.logo)){e.save(),e.translate(-Math.ceil((32-this._imageWidth)/2),Math.floor((32-this._imageHeight)/2)),this.borderRadius=16,this.width=32;const t=!0;t&&(this.width+=this._maximizedAnimationTextWidth+4),this._drawFillRectWithRoundedCorner(e,-.5,0,this.width,32,this.borderRadius),this._drawLogoImage(e,Math.round((32-this._imageWidth)/2)+4,Math.round((32-this._imageHeight)/2)+0),t&&(e.translate(35,Math.round(this._fontSize*ke(this._font))),this._drawTextFill(e)),e.restore()}}else if(this._needDisplayImage&&null!==this._getLogoImage(s.logo)){e.save(),e.translate(-Math.ceil((32-this._imageWidth)/2),Math.floor((32-this._imageHeight)/2)),this._originPoint=Fe(e.getTransform()),this.borderRadius=16,this._drawBgCircle(e),e.drawImage((0,$.ensureNotNull)(this._getLogoImage(s.logo)),Math.round((32-this._imageWidth)/2),Math.round((32-this._imageHeight)/2)+0);const t=!0;t&&(e.translate(37,Math.round(this._fontSize*ke(this._font))),this._drawTextStroke(e),this._drawTextFill(e)),e.restore(),this.width=32,t&&(this.width+=this._maximizedAnimationTextWidth)}else{const t=!0;t&&(e.save(),e.translate(Se?-.5:0,-.5),this._drawTextStroke(e),this._drawTextFill(e),e.restore()),t&&(this.width=this._maximizedAnimationTextWidth)}}_init(){this._checkLayout(),this.show&&(this.height=this._needDisplayImage?32:this._fontSize+2,this._updateColors(),this._model.properties().childs().paneProperties.childs().background.subscribe(this,this._updateColors),this._model.onChartThemeLoaded().subscribe(this,this._updateColors))}_recalculateMetrics(){const e=(0,Q.createDisconnectedBoundCanvas)(document,(0,H.size)({width:0,height:0})),t=(0,Q.getPretransformedContext2D)(e,!0);t.font=this._fontSize+this._font,this._textWidth=Math.ceil(t.measureText(this._txt).width)+2;let i=this._textWidth+8;i%2==0&&(i+=1),this._maximizedAnimationTextWidth=i,this._textWidthCache.reset()}_updateColors(){
this._colors=this._model.isDark()?De:Le}_getLogoImage(e){return Ne(e,this._onReadyCallback)}_checkLayout(){switch(this._layout){case ue:case _e:case me:case ge:case fe:case ye:case ve:case he:this.show=!0;break;case pe:case be:case we:this.show=!1}switch(this._layout){case ue:this._needDisplayImage=!0,this._txt=Te;break;case ge:this._txt=Ee.format({symbol:this._symbol});break;case _e:this._needDisplayImage=!0;break;case me:case fe:this._txt=xe;break;case he:this._needDisplayImage=!0}}_drawTextStroke(e){e.save(),e.textBaseline="middle",e.textAlign="start",e.font=this._fontSize+this._font,e.strokeStyle=this._colors.staticTextBackground,e.lineWidth=4,e.lineJoin="round",e.strokeText(this._txt,0,16+this._textWidthCache.yMidCorrection(e,this._txt)),e.restore()}_drawTextFill(e){e.save(),e.textBaseline="middle",e.textAlign="start",e.font=this._fontSize+this._font,e.fillStyle=this._colors.text,e.fillText(this._txt,0,16+this._textWidthCache.yMidCorrection(e,this._txt)),e.restore()}_drawFillTextCropWidth(e,t){e.save(),e.beginPath(),e.rect(0,0,t,this.height),e.clip(),this._drawTextFill(e),e.restore()}_drawBgCircle(e){const t=this.borderRadius,i=2*Math.PI;e.save(),e.beginPath(),e.fillStyle=this._colors.shadow,e.arc(t,t,t+1,0,i),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.fillStyle=this._colors.background,e.arc(t,t,t,0,i,!1),e.fill(),e.closePath(),e.restore()}_drawFillRectWithRoundedCorner(e,t,i,s,n,r){e.save(),(0,K.drawRoundRect)(e,t-1,i-1,s+2,n+2,r),e.fillStyle=this._colors.shadow,e.fill(),e.closePath(),e.restore(),e.save(),(0,K.drawRoundRect)(e,t,i,s,n,r),e.fillStyle=this._colors.background,e.fill(),e.closePath(),e.restore()}_drawLogoImage(e,t,i){e.drawImage((0,$.ensureNotNull)(this._getLogoImage(this._colors.logo)),t,i)}}class Re extends We{constructor(e,t,i){super(),this.show=!1,this.width=0,this.height=0,this._ready=!1,this._layout=e,this._src=t,this._onReadyCallback=i,this._checkLayout();const s=new Image;this._img=s,this.show&&(s.addEventListener("load",(()=>{this.width=Math.round(s.width),this.height=Math.round(s.height),this._ready=!0,this._onReadyCallback&&this._onReadyCallback()})),s.crossOrigin="anonymous",s.src=this._src)}draw(e,t){this._ready&&(e.drawImage(this._img,-.5,-.5,this.width,this.height),this._originPoint=Fe(e.getTransform()))}_checkLayout(){switch(this._layout){case me:case pe:case fe:case be:case ye:case we:this.show=!0;break;case he:case ue:case _e:case ge:case ve:this.show=!1}}}var Oe=i(308170),Me=i(29084),ze=i(638456),He=i(470316);function Ve(e,t=!1){if(!r.enabled("popup_hints"))return;const n=e.getContainer();let a=null,l=null;function d(e,t){if(a)a.show(e,h.bind(null,t));else{const s=Oe.tool.value();Promise.all([i.e(8834),i.e(91579),i.e(87995),i.e(26166)]).then(i.bind(i,410837)).then((i=>{a=new i.ChartEventHintRenderer(n),s===Oe.tool.value()&&a.show(e,h.bind(null,t))}))}}function c(e){return!Boolean(s.getBool(e))}function h(e){s.setValue(e,!0,{forceFlush:!0}),(0,$.ensureNotNull)(a).destroy(),null!==l&&l(),a=null}Oe.tool.subscribe((function(){if(!c("hint.touchPainting"))return
;const e=Oe.tool.value(),t=(0,Me.isLineToolDrawWithoutPoints)(e),i=ze.CheckMobile.any();!(0,Me.isStudyLineToolName)(e)||"LineToolRegressionTrend"===e||t||i?(0,Me.isLineToolName)(e)&&!(0,Me.isLineDrawnWithPressedButton)(e)&&!t&&i?d((0,o.t)("Move the point to position the anchor then tap to place"),"hint.touchPainting"):a&&a.hide():d((0,o.t)("Click to set a point"),"hint.touchPainting")})),Oe.createdLineTool.subscribe(null,(function(){const e=Oe.tool.value();"LineToolPath"===e&&c("hint.finishBuildPathByDblClick")?d((0,o.t)("Double-click to finish Path"),"hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&c("hint.finishBuildPolylineByDblClick")&&d((0,o.t)("Double-click to finish Polyline"),"hint.finishBuildPolylineByDblClick")})),Oe.finishedLineTool.subscribe(null,(function(){if(a){const e=Oe.tool.value();"LineToolPath"===e?h("hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&h("hint.finishBuildPolylineByDblClick")}})),e.layoutSizesChanged().subscribe((function(){if(!c("hint.startResizingChartInLayout"))return;d((0,o.t)("Double-click any edge to reset layout grid"),"hint.startResizingChartInLayout")})),t||ze.CheckMobile.any()||!c("hint.startFocusedZoom")||(l=function(e,t){let i=!1;const s=n=>{n?(i&&t(n),e.onZoom().unsubscribe(null,s)):i||(t(n),i=!0)};return e.onZoom().subscribe(null,s),()=>e.onZoom().unsubscribe(null,s)}(e,(function(e){if(!c("hint.startFocusedZoom"))return;if(e)a&&(l=null,h("hint.startFocusedZoom"));else{const e=He.isMacKeyboard?"":"Ctrl";d((0,o.t)("Press and hold {key} while zooming to maintain the chart position").format({key:e}),"hint.startFocusedZoom")}})))}var Ue=i(251954);function je(e,t){const s=(0,o.t)("Link to the chart image copied to clipboard {emoji}").format({emoji:""}),n=(0,o.t)("Chart image copied to clipboard {emoji}").format({emoji:""});Ue.on("onServerScreenshotCopiedToClipboard",(()=>l(s)),null),Ue.on("onClientScreenshotCopiedToClipboard",(()=>l(n)),null);let r=null;const a=e.getContainer();function l(e){r?r.show(e):Promise.all([i.e(99740),i.e(18867),i.e(7742),i.e(87995),i.e(30092)]).then(i.bind(i,634464)).then((i=>{r||(r=new i.ChartScreenshotHintRenderer((0,$.ensureNotNull)(a),{bottomPadding:t.seriesControlBarEnabled}),r.show(e))}))}}var qe=i(677748),$e=i(975420),Ge=i(50201),Ye=i(95935),Je=i(261309),Xe=i(564894),Ke=i(97639),Qe=i.n(Ke);const Ze=new(Qe()),et=new(Qe()),tt=new(Qe()),it=new(Qe()),st=new(Qe());class nt{constructor(e=[],t=s){if(this._lists={},this._activeListSettingsKey="widgetbar.widget.watchlist",r.enabled("trading_terminal")&&(this._activeListSettingsKey+="terminal"),this._settings=t,this._settings.onSync.subscribe(this,this._updateLists),this._updateLists(),0===Object.keys(this._lists).length){const t=this._createList({title:this._pickTitle(),symbols:[...e]});this.setActive(t.id)}}destroy(){this._settings.onSync.unsubscribeAll(this)}getCustomWatchLists(){this._updateLists();const e=[];return Object.keys(this._lists).forEach((t=>{const i=this._getList(t);i&&e.push(this._toSymbolList(i))})),Promise.resolve(e)}createWatchList(e){const t=this._createList({
id:e.id,title:e.name||this._pickTitle(),symbols:e.symbols||[]});return tt.fire(t.id,[...t.symbols]),Promise.resolve(this._toSymbolList(t))}putWatchList(e){this._updateLists();const t=this._getList(e.id),i=null==t?void 0:t.title,s=e.name;return this.saveList({id:e.id,symbols:e.symbols,title:e.name}),void 0!==i&&i!==s&&st.fire(e.id,i,s),null!==t?Ze.fire(e.id):tt.fire(e.id,e.symbols),Promise.resolve(e)}removeWatchList(e){const{id:t}=e;return this._settings.remove(`savedwatch.${t}`,{forceFlush:!0}),delete this._lists[t],it.fire(t),Promise.resolve()}renameWatchList(e,t){this._updateLists();const{name:i}=e;return e.name=t,this.saveList({id:e.id,symbols:e.symbols,title:t}),st.fire(e.id,i,t),Promise.resolve(t)}replaceSymbols(e,t){const i=this._getList(e.id);return null===i||(i.symbols=[...t],this.saveList(i),Ze.fire(e.id)),Promise.resolve()}addSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols.push(...t),this.saveList(i),Ze.fire(e.id),Promise.resolve([...i.symbols]))}removeSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols=i.symbols.filter((e=>!t.includes(e))),this.saveList(i),Ze.fire(e.id),Promise.resolve([...i.symbols]))}setActive(e){return this._settings.setValue(this._activeListSettingsKey,e),et.fire(),Promise.resolve()}getActive(){const e=this._getActive();return Promise.resolve(this._toSymbolList(e))}changeDescription(e,t){throw new Error("not implemented")}saveList(e){const t={symbols:e.symbols,title:String(e.title)};this._settings.setJSON(`savedwatch.${e.id}`,t,{forceFlush:!0}),this._lists[e.id]=t}_createList(e){var t;const i={id:null!==(t=e.id)&&void 0!==t?t:(0,Ye.randomHash)(),symbols:e.symbols,title:e.title};return this.saveList(i),i}_getList(e){if(this._updateLists(),this._lists.hasOwnProperty(e)){const t=this._lists[e];return{id:e,symbols:t.symbols.slice(),title:t.title}}return null}_toSymbolList(e){return{type:"custom",id:e.id,name:e.title,description:null,symbols:e.symbols,shared:!1}}_updateLists(){this._lists={};this._settings.keys().forEach((e=>{const t=/^savedwatch\.(.*)$/.exec(e);if(!t)return;const i=t[1],s=this._settings.getJSON(e,null);s&&(s.symbols||(s.symbols=[]),this._lists[i]=s)}))}_getActive(){const e=this._settings.getValue(this._activeListSettingsKey),[t,i]=Object.entries(this._lists)[0],s={id:t,...i};return void 0!==e&&this._getList(e)||s}_pickTitle(){this._updateLists();const e=Object.keys(this._lists).map((e=>this._lists[e].title));for(let t=1;;t++){const i=(0,o.t)("Watchlist")+(t>1?` (${t})`:"");if(-1===e.indexOf(i))return i}}}var rt=i(659192),at=i(195048);const ot=[...(0,O.availableTimeFrames)(null,at.STATUS_READY)];ot.splice(7,0,rt.timeFrames["24m"]);var lt=i(90523),dt=i(581996),ct=i(484443);const ht=r.enabled("no_min_chart_width");function ut(e){const t=r.enabled("side_toolbar_in_fullscreen_mode"),i=r.enabled("header_in_fullscreen_mode");return"center"===e||"left"===e&&t||"top"===e&&i}const _t=window.initData,mt=window.urlParams
;let pt=void 0!==_t.def_extended_hours?_t.def_extended_hours?"extended":"regular":_t.def_session_id;const gt=_t.hide_ideas,ft=_t.customer,bt=_t.customerReadableName,vt=mt.range||_t.def_range,yt=mt.enablepublishing||_t.def_enable_publishing,wt=mt.withdateranges||_t.def_withdateranges,St=void 0!==mt.saveimage?jt(mt.saveimage,!0):_t.def_save_image,Pt=!(mt.hideIdeas||mt.hideideasbutton||gt||_t.hide_ideas_button);let Ct;(void 0===mt.symboledit?_t.def_hide_symbol_edit:!parseInt(mt.symboledit))&&r.setEnabled("header_symbol_search",!1),r.setEnabled("header_screenshot",Boolean(St)),"bovespa"===ft&&(r.disable("header_settings"),Ct=[{symbol:"IBOV",title:"Bovespa Index"},{symbol:"IBXX",title:"Brazil 100 Index"},{symbol:"IBXL",title:"Brazil 50 Index"},{symbol:"IBRA",title:"Brazil Broad-Based Index"},{symbol:"IGCX",title:"Special Corporate Governance Stock Index"},{symbol:"ITAG",title:"Special Tag-Along Stock Index"},{symbol:"IGNM",title:"Novo Mercado Corporate Governance Equity Index"}]),window.pro=new(m())(window.shopConf);let Tt=mt.symbol||_t.defSymbol;"cme"===mt.symbology&&(Tt=(e=>{const t=new(b().SymbolToken)(e);if(!t.root())return e;const i=p.CMEToTVSymbologyAdapter.convertSymbolDataToTV(t.root(),t.exchange(),mt.venue);return"ok"!==i.status?e:(i.data.symbol&&t.root(i.data.symbol),i.data.exchange&&t.exchange(i.data.exchange),t.toString())})(Tt)),(jt(mt.extended_hours)||jt(mt.session_id))&&(pt="extended"),jt(mt.extended_hours,!0)&&jt(mt.session_id,!0)||(pt="regular");const Et=y()(parent),xt=new lt.Root(window),kt=new class{constructor(e){this._processVisibility=e=>{const t=e.container.value();return this._affectsLayout(e.name)?(t&&t.classList.toggle("js-hidden",!1),!0):(t&&t.classList.toggle("js-hidden",!0),!1)},this._setWidth=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availWidth.setValue(t),e.canNegotiate.width&&(i=(0,ct.determineSize)(t,e.negotiations.width)));const s=e.container.value();return s&&(s.style.width=i+"px"),e.width.setValue(i),i},this._setHeight=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availHeight.setValue(t),e.canNegotiate.height&&(i=(0,ct.determineSize)(t,e.negotiations.height)));const s=e.container.value();return s&&(s.style.height=i+"px"),e.height.setValue(i),i};const t=e.container.value();if(!t)throw new Error("bridge.container.value() must be an element");this._container=t,this._availableAreas=["left","tradingpanel","right","top","bottom","center","topleft","extratop"],this._areas={},this._bridge=e,this._width=e.width,this._height=e.height,this._width.subscribe((()=>this.recalculate())),this._height.subscribe((()=>this.recalculate())),this._bridge.visible.subscribe((()=>this._updateVisibility())),this._bridge.fullscreen.subscribe((()=>this._onParentFullscreenChange())),this.recalculate()}allocate(e){const t=e&&e.areaName;if(-1===this._availableAreas.indexOf(t))throw new Error("unknown options.areaName");this.free(t);const i=this._createDOM(t),s={name:t,canNegotiate:{width:"left"===t||"right"===t||"tradingpanel"===t||"topleft"===t,height:"top"===t||"bottom"===t||"topleft"===t||"extratop"===t
},negotiations:{width:[],height:[]},remove:()=>{for(const e in this._areas)this._areas[e]===s&&this.free(e)},negotiateWidth:e=>{if(!s.canNegotiate.width)return;const t=(0,ct.processNegotiation)(e);(0,ct.negotiationsAreEqual)(s.negotiations.width,t)||(s.negotiations.width=t,this.recalculate())},negotiateHeight:e=>{if(!s.canNegotiate.height)return;const t=(0,ct.processNegotiation)(e);(0,ct.negotiationsAreEqual)(s.negotiations.height,t)||(s.negotiations.height=t,this.recalculate())},requestFullscreen:()=>{this._fullscreenArea||("right"!==t&&"center"!==t||(this._fullscreenArea=t),"center"===t&&this._bridge.requestFullscreen(),this._updateFullscreen())},exitFullscreen:()=>{t===this._fullscreenArea&&(this._fullscreenArea=void 0,"center"===t&&this._bridge.exitFullscreen(),this._updateFullscreen())},width:new(A()),height:new(A()),availWidth:new(A()),availHeight:new(A()),alive:new(A())(!0),container:new(A())(i),visible:new(A())(!0),fullscreen:new(A())(!1),fullscreenable:new(A())("right"===t||"center"===t),rdState:new dt.ResizerDetacherState};return s.rdState.pushOwner(s),this._areas[t]=s,s.rdState.owner.subscribe((e=>{const i=s.container.value();if(e!==s)i&&(i.innerHTML="",i.parentElement&&i.parentElement.removeChild(i));else{let e=null;for(let i=this._availableAreas.indexOf(t);i--;){const t=this._availableAreas[i];if(this._affectsLayout(t)){e=this._areas[t].container.value();break}}i&&(e&&i.parentElement?i.insertAdjacentElement("afterend",e):this._container.appendChild(i))}this.recalculate()}),{callWithLast:!0}),s.rdState.bridge()}free(e){const t=this._areas[e];if(!t)return;this._areas[e]=void 0;const i=t.container.value();i&&i.parentElement&&i.parentElement.removeChild(i),t.alive.setValue(!1)}recalculate(){const e={};this._recalcSingleRunToken=e;const t=this._areas.topleft,i=this._areas.left,s=this._areas.tradingpanel,n=this._areas.right,r=this._areas.top,a=this._areas.bottom,o=this._areas.center,l=this._areas.extratop,d=this._width.value(),c=this._height.value();let h=0,u=0,_=0,m=0,p=0,g=0,f=0,b=0;if(e===this._recalcSingleRunToken&&l&&this._processVisibility(l)&&(b=this._setHeight(l,c),this._setWidth(l,d)),e===this._recalcSingleRunToken&&t&&this._processVisibility(t)){f=this._setHeight(t,c),g=this._setWidth(t,d);const e=t.container.value();e&&(e.style.top=b+"px")}let v=0;if(e===this._recalcSingleRunToken&&r&&this._processVisibility(r)){const e=r.container.value();e&&(e.style.left=g+"px",e.style.top=b+"px");const t=d-g;this._setWidth(r,t),h=this._setHeight(r,c),h&&(v=1)}if(e===this._recalcSingleRunToken&&i&&this._processVisibility(i)){const e=Math.max(f,h),t=i.container.value();_=this._setWidth(i,d),_&&(_+=4),_&&1===v&&(v=4),t&&(t.style.top=e+b+v+"px"),this._setHeight(i,c-e-b)}if(e===this._recalcSingleRunToken&&s&&this._processVisibility(s)){let e=d-_;ht||(e-=300),p=this._setWidth(s,e),p&&1===v&&(v=4),this._setHeight(s,c-b-h-v)}if(e===this._recalcSingleRunToken&&n&&this._processVisibility(n)){let e=d-_-p;ht||(e-=300),m=this._setWidth(n,e),m&&1===v&&(v=4),this._setHeight(n,c-b-h-v);const t=n.container.value()
;t&&(t.style.top=h+b+v+"px",t.classList.toggle("no-border-top-left-radius",Boolean(p)))}const y=p+m;let w=0;const S=d-_-p-m-(y?4:0);if(e===this._recalcSingleRunToken&&a&&this._processVisibility(a)){const e=a.container.value();e&&(e.style.left=_+"px",e.classList.toggle("no-border-top-left-radius",!_),e.classList.toggle("no-border-top-right-radius",!y)),this._setWidth(a,S);const t=c-b;w=Math.min(300,t-0),u=this._setHeight(a,t)+4}const P=Boolean(h&&(_||y));if(this._container.classList.toggle("layout-with-border-radius",P),e===this._recalcSingleRunToken&&o&&this._processVisibility(o)){const e=o.container.value();e&&(e.style.left=_+"px",e.style.top=h+b+v+"px",e.classList.toggle("no-border-bottom-left-radius",!u||!_),e.classList.toggle("no-border-bottom-right-radius",!y||!u),e.classList.toggle("no-border-top-left-radius",Boolean(!_&&y)),e.classList.toggle("no-border-top-right-radius",Boolean(_&&!y))),this._setWidth(o,S);const t=c-h-u-b-v;this._setHeight(o,Math.max(t,w))}if(e===this._recalcSingleRunToken&&s&&this._affectsLayout("tradingpanel")){const e=s.container.value();e&&(e.style.right=m+"px",e.style.top=b+h+v+"px",e.style.borderTopLeftRadius=P?"4px":"0px")}e===this._recalcSingleRunToken&&this._updateVisibility()}_affectsLayout(e){const t=this._areas[e];if(!t)return!1;if(t.rdState.owner.value()!==t)return!1;if(this._fullscreenArea&&this._fullscreenArea!==e)return ut(e);if(this._width.value()<=567||this._height.value()<=445){if(!["center","top","left","topleft","extratop"].includes(e))return!1}return!0}_updateVisibility(){const e=this._bridge.visible.value();for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],s=this._areas[i];s&&(e&&this._affectsLayout(i)?s.visible.setValue(!0):s.visible.setValue(!1))}}_onParentFullscreenChange(){this._bridge.fullscreen.value()||(this._fullscreenArea=void 0,this._updateFullscreen())}_updateFullscreen(){const e=void 0!==this._fullscreenArea;for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],s=this._areas[i];if(!s)continue;if(i===this._fullscreenArea){s.fullscreen.setValue(!0);continue}s.fullscreen.setValue(!1);const n=s.container.value();n&&n.classList.toggle("js-hidden",e&&!ut(i))}this._updateVisibility(),this.recalculate()}_createDOM(e){const t=document.createElement("div");return t.classList.add("layout__area--"+e),t.style.position="absolute","tradingpanel"===e&&(t.style.overflow="hidden",t.style.borderTopLeftRadius="4px"),"bottom"===e?t.style.bottom="0":t.style.top="0","right"===e||"tradingpanel"===e?t.style.right="0":t.style.left="0",t}}(xt.allocate());if(vt){const e=(It=vt,ot.find((e=>e.value.value===It)));e&&(mt.range=vt,mt.interval=e.targetResolution)}var It;let Dt,Lt;Dt=void 0===mt.interval?void 0===mt.style?_t.def_interval:(0,C.getDefaultResolution)((0,S.isRangeStyle)(parseInt(mt.style))):mt.interval,Lt=void 0===mt.style?void 0===mt.interval?parseInt(_t.def_style):(0,S.getDefaultStyle)(P.Interval.isRange(mt.interval)):parseInt(mt.style);const At=window.chartWidgetCollection=new(c())({resizerBridge:kt.allocate({
areaName:"center"}),padding:5,edge:Number(mt.padding)||0,publishedChartsEnabled:!1,saveChartEnabled:!1,widgetOptions:{onWidget:!0,addToWatchlistEnabled:!1,propertyPagesEnabled:!1,chartEventsEnabled:!0,esdEnabled:!0,sourceStatusesWidget:{errorSolution:!1},marketStatusWidgetEnabled:!0,chartWarningWidget:{subscriptionFullInfo:!1},widgetCustomer:ft,customerReadableName:bt,hideIdeas:gt,controlBarEnabled:!0,addVolume:!mt.hidevolume,muteSessionErrors:!r.enabled("referral_program_for_widget_owners"),defSymbol:Tt,defInterval:Dt,defStyle:Lt,defSessionId:pt,timezone:mt.timezone||_t.def_timezone,defTimeframe:vt,isDrawingToolbarVisible:F.isDrawingToolbarVisible,watermarkEnabled:!0,paneContextMenuEnabled:!1,compareSymbols:Ct,timeScaleWidget:{contextMenuEnabled:!1,timezoneMenuEnabled:!1},timeScale:{preserveBarSpacing:!0,lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!mt.hidelegend,legendWidget:{contextMenu:{settings:!1,fundamentals:!1,showOpenMarketStatus:!0}},goToDateEnabled:!1,handleScroll:{vertTouchDrag:jt(mt.verttouchdrag),horzTouchDrag:jt(mt.horztouchdrag,!0)},handleScale:{mouseWheel:jt(mt.mousewheelscale,"investopedia"!==ft&&"eurex"!==ft)},currencyConversionEnabled:!0,unitConversionEnabled:!0},seriesControlBarEnabled:!!wt,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!1,availableTimeFrames:O.availableTimeFrames},timeWidgetEnabled:!0,timeWidget:{timezoneMenuEnabled:!1},adjustForDividendsButtonEnabled:!0,sessionIdButtonEnabled:pt,backAdjustmentButtonEnabled:!1,settlementAsCloseButtonEnabled:!1,percentageScaleButtonEnabled:!0,logScaleButtonEnabled:!0,autoScaleButtonEnabled:!0,fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:!1},mobileForceChartMaximizeEnabled:!1});let Nt=!1;At.onAboutToBeDestroyed.subscribe(null,(()=>{Nt=!0}),!0),mt.studies_overrides&&At.applyStudiesOverrides(JSON.parse(mt.studies_overrides)),function(e,t){function i(t){const i=e.getAll();if(1===i.length)return!0;const s=i[0].hasModel()&&i[0].model();return s&&s.model()===t}e.addCustomSource("branding",((e,s)=>new Ie(e,s,i.bind(null,s),t)))}(At);const Ft=At.activeChartWidget.value();let Wt;if(window.chartWidget=Ft,At.readOnly()||(window.studyMarket=new N(At,{onWidget:!0})),g.linking.bindToChartWidgetCollection(At),(0,M.dispatchEventToParent)(z.IFrameEvents.Names.WidgetLoad,mt.frameElementId||null,void 0),mt.theme){const e=mt.theme.toLowerCase(),t=W.themes[e];if(t&&((0,B.setTheme)(e),!t.noChartTheme)){const e=mt.theme&&mt.theme.toLowerCase(),t=W.getStdTheme(e);t&&t.content&&(Wt=t.content,mt.style&&(Wt.mainSourceProperties.style=parseInt(mt.style)),(0,l.applyDefaultsOverrides)(Wt,{mainSeriesProperties:"mainSourceProperties"},!0))}}let Bt=!1,Rt=!1;Ft.withModel(null,(function(){const e=Ft.model().mainSeries();Ft.applyOverrides({"mainSeriesProperties.showCountdown":!1}),Wt&&Ft.model().model().restoreTheme(Wt,!1),e.dataEvents().symbolResolved().subscribe(e,(()=>{!function(e,t){if(!t)return;const i=e.model().model();try{JSON.parse(decodeURIComponent(t)).forEach((e=>{const t=i.createStudyInserter({type:"java",studyId:e.id})
;t.setForceOverlay(e.overlay),t.insert((()=>Promise.resolve({inputs:e.inputs})))}))}catch(e){(t.split(/\x1f/)||[]).forEach((e=>{i.createStudyInserter({type:"java",studyId:e}).insert()}))}}(window.chartWidget,mt.studies)}),!0),e.dataEvents().completed().subscribe(this,(()=>{Wt&&Ut(),Ve&&!Bt&&(Ve(At,!0),Bt=!0),je&&!Rt&&(je(At,{seriesControlBarEnabled:!!wt}),Rt=!0)})),e.dataEvents().symbolError().subscribe(null,(()=>{(0,M.dispatchEventToParent)(z.IFrameEvents.Names.NoData,mt.frameElementId||null,void 0)}))})),yt&&(new I({resizerBridge:kt.allocate({areaName:"bottom"}),publishOptions:{onWidget:!0,publishSource:mt.publishsource}}),async function(){const e=await(0,a.fetch)("/accounts/status_full/",{headers:{"Content-Type":"application/json"}});if(e.ok){return await e.json()}throw new Error(`Could not retrieve status: ${e.statusText}`)}().then((e=>{e.is_authenticated&&(window.is_authenticated=!0,window.user=e.user_data)})));const Ot=window.saver=new h.ChartSaver(At);if(TradingView.setWidgetLogoOverlayVisibility=e=>{Et.post(parent,"setLogoOverlayVisibility",{visible:!!e})},void 0===mt.hidesidetoolbar||+mt.hidesidetoolbar?document.querySelectorAll(".tv-side-toolbar").forEach((e=>{e.classList.add("js-hidden")})):(async()=>{const[e,t,{DrawingToolbar:s},{default:n}]=await Promise.all([Promise.all([i.e(90519),i.e(10146),i.e(8834),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(78941),i.e(95468),i.e(29331),i.e(82739),i.e(44155),i.e(24384),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(1957),i.e(60990),i.e(34539),i.e(21330),i.e(13608),i.e(54792),i.e(24782),i.e(94349),i.e(4467),i.e(87995),i.e(59255),i.e(29594),i.e(22407),i.e(91890),i.e(7315),i.e(73558)]).then(i.t.bind(i,559496,19)),Promise.all([i.e(90519),i.e(10146),i.e(8834),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(78941),i.e(95468),i.e(29331),i.e(82739),i.e(44155),i.e(24384),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(1957),i.e(60990),i.e(34539),i.e(21330),i.e(13608),i.e(54792),i.e(24782),i.e(94349),i.e(4467),i.e(87995),i.e(59255),i.e(29594),i.e(22407),i.e(91890),i.e(7315),i.e(73558)]).then(i.t.bind(i,587995,19)),Promise.all([i.e(90519),i.e(10146),i.e(8834),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(78941),i.e(95468),i.e(29331),i.e(82739),i.e(44155),i.e(24384),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(1957),i.e(60990),i.e(34539),i.e(21330),i.e(13608),i.e(54792),i.e(24782),i.e(94349),i.e(4467),i.e(87995),i.e(59255),i.e(29594),i.e(22407),i.e(91890),i.e(7315),i.e(73558)]).then(i.bind(i,443187)),Promise.all([i.e(90519),i.e(10146),i.e(8834),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(78941),i.e(95468),i.e(29331),i.e(82739),i.e(44155),i.e(24384),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(1957),i.e(60990),i.e(34539),i.e(21330),i.e(13608),i.e(54792),i.e(24782),i.e(94349),i.e(4467),i.e(87995),i.e(59255),i.e(29594),i.e(22407),i.e(91890),i.e(7315),i.e(73558)]).then(i.t.bind(i,565808,23))]);if(Nt)return;const r=kt.allocate({areaName:"left"});t.render(e.createElement(s,{chartWidgetCollection:At,resizerBridge:r,screenshotButton:"cme"===ft}),r.container.value()),
window.lineToolPropertiesToolbar=new n(At)})(),mt.hidetoptoolbar||(async()=>{const[e,t,{HeaderToolbar:s},{SaveChartService:n},{LoadChartService:r}]=await Promise.all([Promise.all([i.e(50522),i.e(94349),i.e(27778),i.e(87995),i.e(59255),i.e(98449),i.e(79022)]).then(i.t.bind(i,559496,19)),Promise.all([i.e(50522),i.e(94349),i.e(27778),i.e(87995),i.e(59255),i.e(98449),i.e(79022)]).then(i.t.bind(i,587995,19)),Promise.all([i.e(50522),i.e(94349),i.e(27778),i.e(87995),i.e(59255),i.e(98449),i.e(79022)]).then(i.bind(i,368955)),Promise.all([i.e(50522),i.e(94349),i.e(27778),i.e(87995),i.e(59255),i.e(98449),i.e(79022)]).then(i.bind(i,521619)),Promise.all([i.e(50522),i.e(94349),i.e(27778),i.e(87995),i.e(59255),i.e(98449),i.e(79022)]).then(i.bind(i,252477))]),a=kt.allocate({areaName:"top"}),o=await function(e){return"seekingalpha"===e||"smartlab-custom"===e?Promise.all([i.e(90519),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(3086),i.e(95468),i.e(72066),i.e(29331),i.e(82739),i.e(63146),i.e(85687),i.e(24817),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(86193),i.e(44177),i.e(73327),i.e(45410),i.e(54072),i.e(91488),i.e(32256),i.e(21330),i.e(77698),i.e(68631),i.e(87995),i.e(59255),i.e(30802),i.e(27744),i.e(76334)]).then(i.bind(i,405835)):"cme"===e?Promise.all([i.e(90519),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(3086),i.e(95468),i.e(72066),i.e(29331),i.e(82739),i.e(63146),i.e(85687),i.e(24817),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(86193),i.e(44177),i.e(73327),i.e(54072),i.e(91488),i.e(32256),i.e(21330),i.e(77698),i.e(87995),i.e(59255),i.e(98449),i.e(30802),i.e(27744),i.e(99081)]).then(i.bind(i,599081)):Promise.all([i.e(90519),i.e(37135),i.e(8348),i.e(5979),i.e(21834),i.e(3086),i.e(95468),i.e(72066),i.e(29331),i.e(82739),i.e(63146),i.e(85687),i.e(24817),i.e(74733),i.e(12580),i.e(11812),i.e(1689),i.e(86193),i.e(44177),i.e(73327),i.e(54072),i.e(91488),i.e(32256),i.e(21330),i.e(77698),i.e(87995),i.e(59255),i.e(98449),i.e(30802),i.e(27744),i.e(14957)]).then(i.bind(i,214957))}(ft),l=await o.getToolSet(),d=R.mobiletouch?["full"]:void 0;t.render(e.createElement(s,{tools:l,chartSaver:Ot,chartApiInstance:window.ChartApiInstance,availableTimeFrames:O.availableTimeFrames,chartWidgetCollection:At,ideas:Pt,resizerBridge:a,popupButton:jt(mt.showpopupbutton),studyMarket:window.studyMarket,windowMessageService:Et,isFundamental:!1,allowedModes:d,saveChartService:new n(At,Ot),loadChartService:new r(At)}),a.container.value())})(),mt.toolbarbg){const e=E.isHexColor(mt.toolbarbg)?"#"+mt.toolbarbg:mt.toolbarbg,t=document.getElementById("widget-container");t&&t instanceof HTMLElement&&(t.style.backgroundColor=e)}const Mt=[];let zt,Ht=[];if(mt.watchlist&&(Ht=mt.watchlist.split(/\x1f/).map((e=>e.trim())).filter(Boolean)),Ht.length||mt.editablewatchlist){const e={type:"watchlist",properties:{list:Ht}};mt.editablewatchlist?(e.readonly=!1,e.data={hideTitleButton:!0},e.settingsKey="onwidget.watchlist",e.unAuthEditable=!0,function(e){const t=new nt(e);(0,Xe.registerService)(Je.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t)}(Ht)):(0,
Ge.registerSingleSymbolListBackend)(Ht),Mt.push(e)}"details"in mt&&Mt.push({type:"detail"}),"widgetbarwidth"in mt&&(zt=+mt.widgetbarwidth),(!zt||!isFinite(zt)||zt<200)&&(zt=200);const Vt=Mt.length?[{name:"base",title:(0,o.t)("Widgets"),icon:"base",widgets:Mt.map((e=>e))}]:[];function Ut(){document.querySelectorAll(".loading-indicator").forEach((e=>{e instanceof HTMLElement&&(e.style.display="none")}))}function jt(e,t=!1){return void 0===e?t:"1"===e}mt.hotlist&&Vt.push({name:"hotlist",title:(0,o.t)("Hotlists"),icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_loosers"}}}]}),mt.calendar&&Vt.push({name:"calendar",title:(0,o.t)("Calendar"),icon:"calendar",widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]}),Vt.length&&(async()=>{const[{WidgetBar:e},{configuration:t}]=await Promise.all([Promise.all([i.e(15107),i.e(3086),i.e(72066),i.e(22850),i.e(82739),i.e(37619),i.e(89587),i.e(33216),i.e(25773),i.e(36325),i.e(19636),i.e(44333),i.e(12620),i.e(89806),i.e(54899),i.e(13608),i.e(35782),i.e(24020),i.e(80250),i.e(55335),i.e(34663),i.e(99614),i.e(87995),i.e(24377),i.e(59255),i.e(93921),i.e(98449),i.e(91622),i.e(20651),i.e(49722),i.e(26612),i.e(95848),i.e(77351),i.e(70901),i.e(73082),i.e(54876)]).then(i.bind(i,15531)),Promise.all([i.e(15107),i.e(3086),i.e(72066),i.e(22850),i.e(82739),i.e(37619),i.e(89587),i.e(33216),i.e(25773),i.e(36325),i.e(19636),i.e(44333),i.e(12620),i.e(89806),i.e(54899),i.e(13608),i.e(35782),i.e(24020),i.e(80250),i.e(55335),i.e(34663),i.e(99614),i.e(87995),i.e(24377),i.e(59255),i.e(93921),i.e(98449),i.e(91622),i.e(20651),i.e(49722),i.e(26612),i.e(95848),i.e(77351),i.e(70901),i.e(73082),i.e(54876)]).then(i.bind(i,667232))]);Vt.forEach((e=>{var t;e.widgets=null===(t=e.widgets)||void 0===t?void 0:t.filter((e=>!(void 0!==e.isEnabled&&!e.isEnabled)))})),window.widgetbar=new e({resizerBridge:kt.allocate({areaName:"right"}),readonly:!0,state:{width:zt,pages:Vt},showCloseButton:!0,configuration:()=>t({chartApiInstance:window.ChartApiInstance})})})(),Ft.onDisconnected().subscribe(null,(e=>{var t;Ut(),e&&(t=()=>{window.ChartApiInstance.disconnect(),setTimeout((()=>{window.ChartApiInstance.connect(),Ft.reconnect()}),500)},T().then((e=>e.showCriticalErrorMessage(t))))})),Ft.onReconnectBailout().subscribe(null,(()=>{var e;e=()=>{setTimeout((()=>{window.ChartApiInstance.connect()}),0)},T().then((t=>t.showDisconnectedMessage(e)))})),document.querySelectorAll(".tv-content").forEach((e=>{e.addEventListener("contextmenu",(e=>{e.target instanceof Element&&e.target.matches("input, textarea")||e.preventDefault()}))})),mt.whotrades&&r.setEnabled("whotrades_auth_only",!0),
document.querySelectorAll(".loading-indicator").forEach((e=>{e.remove()})),(()=>{let e;const t=t=>{void 0!==e&&(0,w.getQuoteSessionInstance)("simple").unsubscribe("widgetQuoteListener",e),e=t,(0,w.getQuoteSessionInstance)("simple").subscribe("widgetQuoteListener",t,(e=>{const t=e.values,i=["change","change_percent","last_price","original_name","short_name","exchange","description","volume"],s={};for(let e=0;e<i.length;e++){const n=i[e];if(!t.hasOwnProperty(n))return;s[n]=t[n]}s.volume=1e100===t.volume?void 0:t.volume,Et.post(parent,"quoteUpdate",s)}))};Ft.withModel(null,(()=>{const e=Ft.model().mainSeries();e.properties().childs().symbol.subscribe(e,(e=>{t(e.value())}))})),Et.on("quoteSubscribe",(()=>{const e=Ft.model().mainSeries().properties().childs().symbol.value();t(e)})),Et.on("imageURL",((e,t)=>{(0,u.takeChartSnapshot)(At,(e=>{t(e)}),(()=>{t("")}),{wl:jt(mt.whitelabel),cme:_t.cme_widget})})),Et.on("symbolInfo",((e,t)=>{const i=(0,$.ensureNotNull)(Ft.model().mainSeries().symbolInfo()),s=Ft.model().mainSeries().properties().childs().interval.value();t({name:i.name,exchange:i.exchange,description:i.description,type:i.type,interval:s})})),Et.on("widgetReady",((e,t)=>{Ft.withModel(null,(()=>{let e;Ft.model().mainSeries().symbolInfo()?t():(e=()=>{t(),Ft.model().mainSeries().dataEvents().symbolResolved().unsubscribe(null,e)},Ft.model().mainSeries().dataEvents().symbolResolved().subscribe(null,e))}))})),(0,M.listenEventFromParent)(z.ParentEvents.Names.SetSymbol,(e=>{e&&e.symbol&&At.setSymbol(e.symbol)})),(0,M.listenEventFromParent)(z.ParentEvents.Names.SetInterval,(e=>{e&&e.interval&&At.setResolution(e.interval)}))})(),window.applyStudiesOverrides=e=>{e&&window.chartWidgetCollection.applyStudiesOverrides(e)},Promise.all([new Promise((e=>{Ft.withModel(null,(()=>{Ft.model().mainSeries().dataEvents().completed().subscribe(null,e,!0)}))})),qe.whenDocumentReadyPromise]).then($e.initGA)},360025:(e,t,i)=>{"use strict";i.r(t),i.d(t,{publishChart:()=>y,publishChartWidget:()=>w,setPublishChartOptions:()=>S});var s=i(559496),n=(i(823127),i(973286)),r=i(125226),a=i(62802),o=i(919346),l=i(497754),d=i(922713),c=i(73286),h=i(528282),u=i(575932),_=i(823127);const m="publish.showIntroText";let p,g=0;function f(){clearTimeout(g),_(".publish-chart-button").removeClass("process")}const b=()=>{const e=(0,u.t)("Please also read and follow our {house_rules_link}House Rules{house_rules_link_close} to avoid your ideas from getting moderated. Remember, good ideas go far here.").split(/{house_rules_link}|{house_rules_link_close}/),t=s.createElement(s.Fragment,null,e[0],s.createElement("a",{href:"/?solution=43000591338"},e[1]),e[2]),i=(0,u.t)("Make sure to check our comprehensive tips on how to build your TradingView reputation in {link_article}this article{close_link_article}.").split(/{link_article}|{close_link_article}/),n=s.createElement(s.Fragment,null,i[0],s.createElement("a",{href:"/?solution=43000570846"},i[1]),i[2]);return{icon:{[o.StdTheme.Light]:c,[o.StdTheme.Dark]:h},title:(0,u.t)("A short intro to idea publishing"),
content:s.createElement(s.Fragment,null,s.createElement("p",{className:l(d.text,d.paragraph)},(0,u.t)("Before publishing your idea, we'd love for you to please read the following tips and rules. This is so we can all build a better environment for open discussion and free exchange of ideas.")),s.createElement("ul",{className:l(d.text,d.list)},s.createElement("li",null,(0,u.t)("Remember, there's a difference between market analysis and tutorials. The first should include analysis and predictions. The latter should contain educational material only.")),s.createElement("li",null,t),s.createElement("li",null,n))),textButton:(0,u.t)("Continue publishing")}};async function v(e,t){if(!(0,r.isFeatureEnabled)("show_checkbox_of_house_rules_to_idea_and_script")){if(!0===t||!a.getBool(m,!0))return window.saver.publishChart(e);const{createWarningPopup:s}=await i.e(63746).then(i.bind(i,317400)),n=await s({content:b(),dataDialogName:"publish-intro-dialog"});a.setValue(m,!n)}return window.saver.publishChart(e)}function y(e,t){const i={...e,...p};return new Promise((e=>{window.runOrSignIn((()=>{(0,r.isFeatureEnabled)("disable_phone_verification_sms")?e(v(i,t)):(!function(){const e=_(".publish-chart-button");0!==e.length&&(e.addClass("process"),g=setTimeout(f,3e4))}(),(0,n.whenVerified)({showDialog:!0,source:"Publish chart",silentPhoneVerification:null==i?void 0:i.silentPhoneVerification}).done((()=>{e(v(i,t))})).fail((e=>(null==i?void 0:i.onPublishError)&&i.onPublishError(e))).always(f))}),{source:"Publish chart",sourceMeta:"Chart"})}))}function w(e){y(e,!0)}function S(e){p=e}},542589:(e,t,i)=>{"use strict";var s,n=i(823127),r=(s={},{suggest:function(e,t){var i=n.ajax({url:t||"/pubscripts-suggest-json/",type:"GET",data:{search:e},dataType:"json"});return i.done((function(e){if(e&&e.results)for(var t=0;t<e.results.length;t++)s[e.results[t].scriptIdPart]=TradingView.clone(e.results[t])})),i},info:function(e,t=!1){for(var i=n.Deferred(),r=[],a=[],o=0;o<e.length;o++){var l=e[o];s[l]?r.push(TradingView.clone(s[l])):a.length<3e3&&a.push(l)}if(!a.length)return i.resolve(r).promise();var d={scriptIdPart:a.join(","),show_hidden:t};return n.ajax({url:"/pubscripts-get/",type:"POST",data:d,dataType:"json"}).done((function(e){for(var t in e=e||[]){var n=e[t];s[n.scriptIdPart]=TradingView.clone(n),r.push(n)}i.resolve(r)})).fail((function(){i.reject()})),i},invalidateCache:function(e){e.forEach((function(e){delete s[e]}))},cleanCache:function(){s=[]}});e.exports=r},227185:(e,t,i)=>{"use strict";i.d(t,{enable:()=>o,referenceToTradingView:()=>l});var s=i(345848),n=i(114939),r=i(611688);let a;function o(e,t){a=e,t=t||"aggressive",r.enable("referral_program_for_widget_owners"),r.enable("referral_program_policy_"+t),(0,s.trackEvent)("Referral program enabled",t)}function l(){const e="https://www.tradingview.com";return a?e+"?aff_id="+a+"&"+(0,n.buildUtmQueryStringFromUrlParams)(!1):e+(0,n.buildUtmQueryStringFromUrlParams)(!0)}},960173:(e,t,i)=>{"use strict";i.d(t,{ChartSaverBase:()=>_})
;var s=i(316230),n=i(911730),r=i(388482),a=i(270617),o=i(175203),l=i(97639),d=i.n(l);const c=new WeakMap;function h(e){let t=c.get(e);if(void 0===t){const i=JSON.parse(e.content);t=void 0!==i.charts?i.charts.map(JSON.stringify):[e.content],c.set(e,t)}return t}const u=new TextEncoder;class _{constructor(e){this._prevChartState=null,this._chartSavedDelegate=new(d()),this._chartWidgetCollection=e,window.initData&&window.initData.content&&(this._prevChartState={content:JSON.stringify(window.initData.content)})}saveChartLineTools(e,t,i){{const s=(0,r.getChartStorage)(),n=this._chartWidgetCollection.metaInfo.uid.value();return s.saveLineToolsAndGroups(n,e,t,i)}}_getCommonSavingInfo(e){const t=this._chartWidgetCollection,i=this._chartWidgetCollection.chartsSymbols(),s=i[t.activeChartWidget.value().id()],n={...(r=s,{...r,legs:JSON.stringify(null!==(a=r.legs)&&void 0!==a?a:[])})};var r,a;const o=t.metaInfo;return o.id.value()&&(n.id=o.id.value()),n.name=o.name.value()||"",n.description=o.description.value()||"",n.charts_symbols=function(e){const t={};for(const i of Object.keys(e))t[i]={symbol:e[i].symbol};return JSON.stringify(t)}(i),n.is_realtime=n.is_realtime=e?"0":"1",n}async _saveLineToolsToStorage(){{if(!this._chartWidgetCollection.metaInfo.uid.value())return Promise.reject("Cannot save for new layout");const e=this._chartWidgetCollection.getAll().map((e=>{var t,i;return null!==(i=null===(t=e.lineToolsSynchronizer())||void 0===t?void 0:t.flushPendingSavings())&&void 0!==i?i:null})).filter(a.notNull);e.length&&await Promise.all(e)}}async _saveChart(e,t,i,r){var a;const l=this._chartWidgetCollection.metaInfo;let d=null!==(a=r.changes)&&void 0!==a?a:n.changedAll,c=!0;if(2&d)try{await this._saveLineToolsToStorage()}catch(e){d|=1,c=!1}if(1&d){const n=e(c);if((0,s.default)(this._prevChartState,n)&&null!==l.id.value())return this._chartSavedDelegate.fire(!0),void t(l,n);(function(e,t){const i=null===e?[]:h(e),s=h(t);let n=0,r=0;for(let e=0;e<s.length;++e){const t=u.encode(s[e]).length;n+=t,s[e]!==i[e]&&(r+=t)}o.telemetry.sendChartReport("save_layout_changed_to_total_bytes_ratio",{value:r/n})})(this._prevChartState,n);const a=(e,i)=>(c||this._chartWidgetCollection.getAll().forEach((e=>{var t;return null===(t=e.lineToolsSynchronizer())||void 0===t?void 0:t.markAsValidatedBecuaseOfSavingToContent()})),t(e,i));return this._saveChartImpl(n,l,a,i,r,e)}this._chartSavedDelegate.fire(!0),t(l,null)}}},798935:(e,t,i)=>{"use strict";var s=i(97639),n=i(823127),r=i(575932).t,a=i(588537).assert,o=i(366156),l=i(345848).trackEvent,d=i(629588).createGoProDialog,c=i(552279).reloginOrGoPro,h=i(542589),u=i(251954),_=i(125226).isFeatureEnabled,m=i(503595).asyncWindowOpen,p=i(281640),g=i(779923).showWarning,f=i(147731).backend,b=i(960173).ChartSaverBase;const v={saverOnPublishError:r("The publication preview could not be loaded. Please disable your browser extensions and try again."),saveLibraryError:r("Failed to save library"),saveScriptError:r("Failed to save script")};function y(e,t){e.content=JSON.stringify(t)}function w(e){
return e.returnValue=r("Script may be not updated if you leave the page."),e.returnValue}t.ChartSaver=class extends b{constructor(e){super(e),this._chartAboutToBeSavedDelegate=new s,this._chartSavedDelegate=new s,this._chartSizeLimitExceededDelegate=new s,this._savingToken=null}chartSizeLimitExceeded(){return this._chartSizeLimitExceededDelegate}chartAboutToBeSaved(){return this._chartAboutToBeSavedDelegate}chartSaved(){return this._chartSavedDelegate}saveToJSON(){var e=this._getCommonSavingInfo(!1);return y(e,this._getChartWidgetCollectionState(!1,!0)),e}_getChartWidgetCollectionState(e,t,i,s,n){return e||(t=!0,s=!1),t?this._chartWidgetCollection.state(!!e,i,s,n):this._chartWidgetCollection.activeChartWidget.value().state(!!e,i,s,n)}publishChart(e){var t=this;return new Promise((function(s){l("GUI","Publish Chart");var r=t,a={accessType:(e=e||{}).isPrivate||TVSettings.getBool("publishchart.private",!1)?0:1,publishSource:e.publishSource,videoFilename:e.videoFilename,videoDuration:e.videoDuration,videoCam:e.videoCam},o=n(".publish-dropdown-container"),d=n(".publish-chart-button"),c={savePrivacySetting:!e.doNotSavePrivacySetting,onWidget:e.onWidget},h=e.onPublishUrl,u=e.onPublishError;r._ideaPublisher?s(r._ideaPublisher.openPublication(a,c)):Promise.all([Promise.all([i.e(90519),i.e(10146),i.e(37135),i.e(8348),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(91670),i.e(53221),i.e(63280),i.e(67161),i.e(34640),i.e(94430),i.e(36603),i.e(44415),i.e(5953),i.e(43788),i.e(52323),i.e(88425),i.e(65161),i.e(4548),i.e(87995),i.e(25977),i.e(59255),i.e(86660),i.e(8649),i.e(50629)]).then(i.bind(i,777483)),Promise.all([i.e(90519),i.e(10146),i.e(37135),i.e(8348),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(91670),i.e(53221),i.e(63280),i.e(67161),i.e(34640),i.e(94430),i.e(36603),i.e(44415),i.e(5953),i.e(43788),i.e(52323),i.e(88425),i.e(65161),i.e(4548),i.e(87995),i.e(25977),i.e(59255),i.e(86660),i.e(8649),i.e(50629)]).then(i.bind(i,792011)),Promise.all([i.e(90519),i.e(10146),i.e(37135),i.e(8348),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(91670),i.e(53221),i.e(63280),i.e(67161),i.e(34640),i.e(94430),i.e(36603),i.e(44415),i.e(5953),i.e(43788),i.e(52323),i.e(88425),i.e(65161),i.e(4548),i.e(87995),i.e(25977),i.e(59255),i.e(86660),i.e(8649),i.e(50629)]).then(i.bind(i,773792)),Promise.all([i.e(90519),i.e(10146),i.e(37135),i.e(8348),i.e(5979),i.e(78941),i.e(48181),i.e(35354),i.e(55099),i.e(71452),i.e(50407),i.e(84845),i.e(91670),i.e(53221),i.e(63280),i.e(67161),i.e(34640),i.e(94430),i.e(36603),i.e(44415),i.e(5953),i.e(43788),i.e(52323),i.e(88425),i.e(65161),i.e(4548),i.e(87995),i.e(25977),i.e(59255),i.e(86660),i.e(8649),i.e(50629)]).then(i.bind(i,556471))]).then((([{CategoriesProvider:e},{ChartInfoProvider:t},{IdeasProvider:i},{IdeaPublisher:n}])=>{var l=new t({chartWidgetCollection:r._chartWidgetCollection}),_=new i({publish:function(e,t){return new Promise((function(i,s){var n={closeForm:function(){i()},
showError:function(e){s(e)},onPublishUrl:h,onPublishError:u};try{r.onPublish(e,Object.assign({},t,n))}catch(e){s(v.saverOnPublishError)}}))}}),m=new e;r._ideaPublisher=new n({chartInfoProvider:l,ideasProvider:_,categoriesProvider:m,onOpenEditor:function(){o.addClass("disabled")},onMinimizeEditor:function(){o.removeClass("disabled"),d.addClass("inprogress")},onCloseEditor:function(){o.removeClass("disabled"),d.removeClass("inprogress")}}),s(r._ideaPublisher.openPublication(a,c))}))}))}publishScript(e,t,i){var s=this;if(e.accessType=TVSettings.getBool("publishscript.private",!1)?0:1,s._scriptPublisher)s._scriptPublisher.openPublication(e,t);else{var n=i.scriptPublisher,r=i.scriptsProvider,a=i.categoriesProvider,o=new r({publish:function(e){return new Promise((function(t,i){var n={closeForm:function(){if(e&&e.scriptPublication&&e.scriptPublication.updateScriptIdPart){var i=e.scriptPublication.updateScriptIdPart;h.invalidateCache([i]),window.studyMarket&&window.studyMarket.resetAllPages()}t()},showError:function(e){i(e)},savePrivacySetting:!0};try{s.onPublish(e,n)}catch(e){i(v.saverOnPublishError)}}))}});s._scriptPublisher=new n({scriptsProvider:o,categoriesProvider:new a,scriptType:e.scriptType,scriptTitle:e.title,existingLibraryInfo:e.existingLibraryInfo}),s._scriptPublisher.openPublication(e,t)}}onPublish(e,t){{var i=this;if(i.publishInProgress)return;var s=t&&t.publishAllLayout,a=i._getCommonSavingInfo(!0),d=!1;e.scriptPublication&&(e.scriptPublication.scriptProtection===p.Access.ACCESS_CLOSED_NEEDS_AUTH&&(d=!0),a.scriptProtection=parseInt(p.Access.MAP_NAME_TO_ID[e.scriptPublication.scriptProtection])),y(a,this._getChartWidgetCollectionState(!0,s,!0,d)),a.image=JSON.stringify(this._chartWidgetCollection.images({onlyActiveChart:!s}));const f=s=>{window.removeEventListener("beforeunload",w),i.publishInProgress=!1;var n=s.responseText||"";if("ok:"===n.substring(0,3)){var a=!1;if(t.savePrivacySetting){a=!e.is_public;TVSettings.setValue(e.scriptPublication?"publishscript.private":"publishchart.private",a)}var o=n.substring(3),l=JSON.parse(o);i._chartWidgetCollection.metaInfo.id.value()||i._chartWidgetCollection.metaInfo.id.setValue(l.id),t.closeForm&&t.closeForm(),t.onPublishUrl&&t.onPublishUrl(l.publishUrl,l.uuid),u.emit("onPublishUrl",l.uuid),i._lastPublishUrl=l.publishUrl,i.setPopupUrl&&i.setPopupUrl(l.publishUrl)}else{(413===s.status||/^[\d\s]*request.+large/i.test(n.trim()))&&(n=r("This Chart Layout has a lot of objects and can't be published. Please remove the unused objects (drawings/indicators) through the Object Tree to continue publishing."));var d=n||r("Error occurred while publishing");t.showError&&t.showError(d,{html:!0}),t.onPublishError&&t.onPublishError(d),i.setPopupUrl&&i.setPopupUrl(void 0)}};var c=e.scriptPublication,h=!(!c||!c.updateScriptIdPart),_=new Promise((function(e,t){var i;c?(h?(window.addEventListener("beforeunload",w),i=o.publishNext(c.scriptSource,c.updateScriptIdPart)):i=o.publishNew(c.scriptSource,c.scriptProtection),i.done((function(t){e(t.publishedstudyscript_id)})).fail((function(e){
let i="";i=-1!==e.indexOf("already published library")?v.saveLibraryError:v.saveScriptError,g({title:i,text:e}),t()}))):e()}));h?_.then((function(t){var i={publishedstudyscript_id:t,script_terms:e.script_terms,description:e.description,tags:e.tags,preserve_old_chart:e.preserveOldChart};n.ajax({url:"/script-update/",type:"post",dataType:"text",data:n.extend({},a,i),complete:f})}),f):_.then((function(t){t&&(e.publishedstudyscript_id=t);for(var i=e.tags.split(","),s=e.scriptPublication?"Script":"Idea",r=0;r<i.length;r++)l(s+" Publication",s+" Tag",i[r]);if(e.scriptPublication){var o=e.scriptPublication.scriptProtection;l("Script Publication","Script Visibility",{open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"}[o])}else{var d=e.is_education?"Education":"Analysis",c=e.is_public?"Public":"Private";l("Idea Publication","Idea Type",d),l("Idea Publication","Idea Strategy",["Neutral","Long","Short"][e.direction]),l("Idea Publication","Idea Privacy",c)}n.ajax({url:"/publishchart/",type:"post",dataType:"text",data:n.extend({},a,e),complete:f})}),f),i.publishInProgress=!0,t.onWidget||""!==e.name&&""!==e.description&&e.description.length<=7e4&&e.name.length<=64&&m(new Promise((function(e){i.setPopupUrl=e})))}}_saveChartImpl(e,t,i,s,r,a){var o=i,l=s;if(this._savingToken=String(Math.random()),e.savingToken=this._savingToken,o=function(a){if(this._savingToken=null,"ok:"===a.substring(0,3)){var o=a.substring(3),l=JSON.parse(o);t.id.value()||(t.id.setValue(l.id),t.uid.setValue(l.uid)),t.lastModified.setValue(l.lastModified),"function"==typeof i&&i(t,e)}else if("saved_chart_limit_reached"===a||""===a){if("function"==typeof s&&s(),r.noDefaultOnFail)return;d({feature:"savedChartsLimit"})}else"function"==typeof s&&s(),n("#error").html(a);n(window).off("beforeunload.savechart")},l=async function(e){if(this._savingToken=null,e&&413===e.status)return this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof s&&s.apply(null,arguments));if(e&&403===e.status){try{"login_required"===(await e.json()).code&&c({feature:"savedChartsLimit"})}catch(e){}"function"==typeof s&&s.apply(null,arguments)}else r.retry?"function"==typeof s&&s.apply(null,arguments):(r.retry=!0,this._saveChart(a,i,s,r))},!e.name)return console.warn("Saving chart with empty name is not allowed"),void s();f.saveChart(e.name,e.short_name,e.resolution,e,t).then(o.bind(this)).catch(l.bind(this))}saveChartSilently(e,t,i){i=i||{};var s=function(e){var t=e&&_("remove_line_tools_from_content"),s=this._getChartWidgetCollectionState(!1,void 0,void 0,void 0,t),n=this._getCommonSavingInfo(!1,t);return y(n,s),i.chartName&&(n.name=i.chartName),n.name&&0!==n.name.length||!i.defaultChartName||(n.name=i.defaultChartName),i.autoSave&&(n.autoSave=!0),n}.bind(this);n(window).on("beforeunload.savechart",(function(){return r("Your chart is being saved, please wait a moment before you leave this page.")})),this._isSaveInProcess=!0,this._chartAboutToBeSavedDelegate.fire(),this._saveChart(s,function(t,i){
a(!this._chartWidgetCollection.readOnly(),"Trying to save layout in read-only mode"),i&&this._chartWidgetCollection.metaInfo.name.setValue(i.name),this._prevChartState=i,this._chartSavedDelegate.fire(!0),this._isSaveInProcess=!1,e&&e({uid:t.uid.value(),data:i}),this._prevChartState&&delete this._prevChartState.savingToken}.bind(this),function(){this._chartSavedDelegate.fire(!1),this._isSaveInProcess=!1,t&&t.apply(null,arguments)}.bind(this),i),n(window).off("beforeunload.savechart")}isSaveInProcess(){return this._isSaveInProcess}}},472576:e=>{"use strict";var t={},i={XCBT:"CBOT",XNYM:"NYMEX",XCME:"CME",XCEC:"COMEX"};t.convertSymbolDataToTV=function(e,t,s){return s=2===s||"floor"===s||"pit"===s?"PIT":"GBX",t&&i[t]?{status:"ok",data:{symbol:e,exchange:i[t]+"_"+s}}:{status:"error",data:"Exchange `"+t+"` is not supported"}},e.exports=t},659192:(e,t,i)=>{"use strict";i.d(t,{timeFrames:()=>n});var s=i(575932);const n={"1d":{text:(0,s.t)("1D"),value:{value:"1D",type:"period-back"},targetResolution:"1",description:(0,s.t)("%d day",{plural:"%d days",count:1}).replace("%d","1")},"5d":{text:(0,s.t)("5D"),value:{value:"5D",type:"period-back"},targetResolution:"5",description:(0,s.t)("%d day",{plural:"%d days",count:5}).replace("%d","5")},"1w":{text:(0,s.t)("1W"),value:{value:"7D",type:"period-back"},targetResolution:"15",description:(0,s.t)("Week",{plural:"%d weeks",count:1}).replace("%d","1")},"1m":{text:(0,s.t)("1M"),value:{value:"1M",type:"period-back"},targetResolution:"30",description:(0,s.t)("%d month",{plural:"%d months",count:1}).replace("%d","1")},"3m":{text:(0,s.t)("3M"),value:{value:"3M",type:"period-back"},targetResolution:"60",description:(0,s.t)("%d month",{plural:"%d months",count:3}).replace("%d","3")},"6m":{text:(0,s.t)("6M"),value:{value:"6M",type:"period-back"},targetResolution:"120",description:(0,s.t)("%d month",{plural:"%d months",count:6}).replace("%d","6")},ytd:{text:(0,s.t)("YTD"),value:{value:"YTD",type:"period-back"},targetResolution:"1D"},"12m":{text:(0,s.t)("1Y"),value:{value:"12M",type:"period-back"},targetResolution:"1D",description:(0,s.t)("%d year",{plural:"%d years",count:1}).replace("%d","1")},"24m":{text:(0,s.t)("2Y"),value:{value:"24M",type:"period-back"},targetResolution:"1W",description:(0,s.t)("%d year",{plural:"%d years",count:2}).replace("%d","2")},"60m":{text:(0,s.t)("5Y"),value:{value:"60M",type:"period-back"},targetResolution:"1W",description:(0,s.t)("%d year",{plural:"%d years",count:5}).replace("%d","5")},all:{text:(0,s.t)("All"),value:{value:"ALL",type:"period-back"},targetResolution:"1M"}}},126974:(e,t,i)=>{"use strict";i.d(t,{availableTimeFrames:()=>a});var s=i(195048),n=i(659192);const r={[s.STATUS_DELAYED]:[n.timeFrames.ytd,n.timeFrames["12m"],n.timeFrames["60m"],n.timeFrames.all],[s.STATUS_READY]:[n.timeFrames["1d"],n.timeFrames["5d"],n.timeFrames["1m"],n.timeFrames["3m"],n.timeFrames["6m"],n.timeFrames.ytd,n.timeFrames["12m"],n.timeFrames["60m"],n.timeFrames.all]};function a(e,t){return t===s.STATUS_DELAYED_STREAMING&&(t=s.STATUS_READY),t===s.STATUS_EOD&&(t=s.STATUS_DELAYED),
r[t]||[]}},826384:(e,t,i)=>{"use strict";i.d(t,{handleTVLinksClick:()=>r,sendWidgetTrackData:()=>a});var s=i(114939),n=i(179380);function r(){document.addEventListener("click",(e=>{const t=e.target.closest(":link");if(!(null==t?void 0:t.hostname)||!(0,n.isInternalHost)(t.hostname,"tradingview.com"))return;const i=t.classList.contains("js-copyright-label")?"copyright":null;a(t.href,i)}))}function a(e,t){const n=function(){const e=window.initData.hashSettings;if(Object.keys(e).length>0)return(0,s.filterUtmInfo)(e);const t=new URLSearchParams(location.href);return{utm_campaign:t.get("utm_campaign")||void 0,utm_source:t.get("utm_source")||void 0}}(),r=function(e){var t;const i=(null===(t=location.ancestorOrigins)||void 0===t?void 0:t[0])||document.referrer;return e.utm_source||(i.length>0?new URL(i).host:"")}(n);!async function(e){var t;null===(t=await async function(){return(await Promise.all([i.e(26904),i.e(36683)]).then(i.bind(i,449946))).getTrackerInstance()||null}())||void 0===t||t.trackWidgetTVLinkClick(e)}({widget_type:o(n),domain:r,link:e,target_type:t})}function o(e){if(e.utm_campaign)return e.utm_campaign;const t=location.pathname;return t.includes("embed-widget")?t.split("/")[2]:t}},503595:(e,t,i)=>{"use strict";i.d(t,{asyncWindowOpen:()=>r});var s=i(314802);const n=i(575932).t("Loading...");function r(e,t,i){return window.TVD||(0,s.isOnMobileAppPage)("any")?function(e,t,i){return e.then((e=>{void 0!==e&&open(e,t,i)}),(()=>{}))}(e,t,i):async function(e,t,i){const s=URL.createObjectURL(new Blob([`<!doctype html><html style="background-color:${getComputedStyle(document.documentElement).backgroundColor}"><head><meta charset="utf-8"><title>${n}</title></head><body style="background-color:${getComputedStyle(document.body).backgroundColor}"></body></html>`],{type:"text/html"}));try{const n=open(s,t,i);if(!n)throw new Error("cound not open a new tab");const r=await e.catch((()=>{}));void 0!==r?n.location.replace(r):n.close()}finally{URL.revokeObjectURL(s)}}(e,t,i)}},596080:(e,t,i)=>{"use strict";var s,n;i.d(t,{ParentEvents:()=>s,IFrameEvents:()=>n}),function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(s||(s={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(n||(n={}))},410899:(e,t,i)=>{"use strict";function s(e,t,i){const s={name:e,frameElementId:t,data:i};window.parent.postMessage(s,"*")}function n(e,t){function i(i){i.data&&i.data.name&&i.data.name===e&&t(i.data.data)}return window.addEventListener("message",i,!1),()=>{window.removeEventListener("message",i,!1)}}i.d(t,{dispatchEventToParent:()=>s,listenEventFromParent:()=>n})},656130:(e,t,i)=>{"use strict";i.d(t,{generateChartUrl:()=>n});var s=i(314802);function n(e){const t=e.chartId?`/chart/${e.chartId}/`:"/chart/",i=new URL(t,location.href);return e.symbol&&i.searchParams.append("symbol",e.symbol),e.interval&&i.searchParams.append("interval",e.interval),
e.style&&i.searchParams.append("style",e.style),(0,s.urlWithMobileAppParams)(i.href)}},885908:(e,t,i)=>{"use strict";i.d(t,{IndicatorsPreloader:()=>m});var s=i(366156),n=i(604061),r=i(782991),a=i(575932),o=i(304328),l=i(588537);function d(e){const t=e.filter((e=>void 0===e.indicatorVisible||e.indicatorVisible));return t.filter((e=>e.periodData.length>0))}function c(e,t=!1){const{id:i,name:s,shortTitle:n,idWithoutPeriod:r,periodData:o,tags:l}=e;return{id:i,shortTitle:n,periodData:o,tags:l,name:(0,a.t)(s,{context:"study"}),solutionId:u(r),isNested:t}}const h=i(864093);function u(e){return h[e]}async function _(){const[e,t]=await Promise.all([(0,s.requestFundamentalScripts)(),(0,o.getFinancialsData)()]),i=function(e,t){const i={};e.forEach((e=>{const t=(0,o.getIdWithoutPeriod)(e.id);t&&!i[t]&&(i[t]={...e,nestingLevel:-1,idWithoutPeriod:t,parentIdWithoutPeriod:(0,o.getIdWithoutPeriod)(e.parent),periodData:[],shortTitle:""})})),t.forEach((e=>{if(!e.extra.fund_id)return;const t=(0,o.getIdWithoutPeriod)(e.extra.fund_id),s=i[(0,l.ensureDefined)(t)];if(!s)return;const n={period:e.extra.financialPeriod,scriptIdPart:e.scriptIdPart,scriptName:e.scriptName,version:e.version};s.shortTitle=e.extra.shortDescription,s.tags=e.extra.tags,s.periodData.push(n)}));const s=Object.values(i),n=(e,t)=>e.period&&t.period?e.period.localeCompare(t.period):0;return s.forEach((e=>{e.periodData.length>1&&e.periodData.sort(n)})),s}((0,o.filterHiddenItems)(t),e),n=function(e){const t=[...e].map((e=>{var t;if(null===(t=e.children)||void 0===t?void 0:t.length){const t=(0,o.flattenTree)(e.children);return{...e,children:t}}return e}));return(0,o.splitByCategory)(t)}(function(e){const t=(0,o.toTree)(e);return(0,o.sortByOrdinal)(t)}(i));return function(e){const t={};return Object.keys(e).forEach((i=>{const s=[];e[i].forEach((e=>{const t=d([e])[0];if(t)if(t.children){const e=d(t.children).map((e=>c(e,!0)));s.push(c(t),...e)}else s.push(c(t))})),t[i]=s})),t}(n)}class m{constructor(e){this._chartWidgetCollection=e}getIndicatorPromises(){var e,t,i,a,o,l,d,c,h,u;const m=(null===(e=this._initIndicatorsPromises)||void 0===e?void 0:e.javaStudiesPromise)||(0,n.requestBuiltInJavaStudies)(this._chartWidgetCollection),p=(null===(t=this._initIndicatorsPromises)||void 0===t?void 0:t.standardScriptsPromise)||(0,s.requestBuiltinScripts)(),g=(null===(i=this._initIndicatorsPromises)||void 0===i?void 0:i.candlestickScriptsPromise)||(0,s.requestCandlestickScripts)(),f=(null===(a=this._initIndicatorsPromises)||void 0===a?void 0:a.publicPineStudiesPromise)||(0,n.fetchPublicPineStudies)((0,n.createPublicStudiesRequestParams)("top")),b=(null===(o=this._initIndicatorsPromises)||void 0===o?void 0:o.trendingStudiesPromise)||(0,n.fetchPublicPineStudies)((0,n.createPublicStudiesRequestParams)("trending")),v=(null===(l=this._initIndicatorsPromises)||void 0===l?void 0:l.recommendationsStudiesPromise)||(0,n.fetchRecommendationsPineStudies)(),y=(null===(d=this._initIndicatorsPromises)||void 0===d?void 0:d.editorsPicksStudiesPromise)||(0,
n.fetchEditorsPicksStudies)(),w=null===(c=this._initIndicatorsPromises)||void 0===c?void 0:c.addonsPromise,S=(null===(h=this._initIndicatorsPromises)||void 0===h?void 0:h.pinePermissionsPromise)||r.PinePerm.listScripts(),P=(null===(u=this._initIndicatorsPromises)||void 0===u?void 0:u.financialsPromise)||_(),C=(0,s.requestUserScripts)();return this._initIndicatorsPromises={javaStudiesPromise:m,userScriptsPromise:C,standardScriptsPromise:p,candlestickScriptsPromise:g,publicPineStudiesPromise:f,trendingStudiesPromise:b,addonsPromise:w,pinePermissionsPromise:S,editorsPicksStudiesPromise:y,financialsPromise:P,recommendationsStudiesPromise:v},this._initIndicatorsPromises}}},604061:(e,t,i)=>{"use strict";i.d(t,{fetchPublicPineStudies:()=>n,fetchRecommendationsPineStudies:()=>r,fetchEditorsPicksStudies:()=>a,fetchLoadMorePublicStudies:()=>o,createPublicStudiesRequestParams:()=>l,requestBuiltInJavaStudies:()=>d});var s=i(86674);async function n(e){return(await(0,s.fetch)(`/pubscripts-library/?${e}`)).json()}async function r(){return(await(0,s.fetch)("/pubscripts-library/recommendations/")).json()}async function a(){return(await(0,s.fetch)("/pubscripts-library/editors-picks/")).json()}async function o(e){return(await(0,s.fetch)(e)).json()}function l(e){const t={offset:0,count:20,type:0,sort:e};return new URLSearchParams(Object.entries(t)).toString()}function d(e){return e.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}},40541:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_CATEGORY_SETTINGS:()=>s,HISTORIC_VALUES_POSTFIX:()=>n,PERIOD_POSTFIXES:()=>r});const s={"income statements":{defaultItems:["total_revenue","gross_profit","oper_income","pretax_income","net_income"],additionalField:1,displayGroups:!1},"balance sheet":{defaultItems:["total_assets","total_liabilities"],additionalField:0,displayGroups:!1},"cash flow":{defaultItems:["cash_f_operating_activities","cash_f_investing_activities","cash_f_financing_activities"],additionalField:1,displayGroups:!1},statistics:{defaultItems:["price_earnings","price_cash_flow"],additionalField:2,displayGroups:!0},dividends:{defaultItems:["dps_common_stock_prim_issue","dividends_yield"],additionalField:0,displayGroups:!1},earnings:{defaultItems:[],additionalField:0,displayGroups:!1}},n="_h",r=["_fy","_fq","_ttm"]},304328:(e,t,i)=>{"use strict";i.d(t,{getFinancialsData:()=>c,isStatementsCategoryId:()=>h,filterConfig:()=>u,translateConfig:()=>_,filterHiddenItems:()=>m,toTree:()=>p,sortByOrdinal:()=>g,flattenTree:()=>f,splitByCategory:()=>b,createSortedCategoryList:()=>v,filterCategoryList:()=>y,getItemValuesFromQuotes:()=>w,prepareEarningsData:()=>E,getIdWithoutPeriod:()=>k,addOrRemoveIdFromSet:()=>I,findParentsSet:()=>D,getAdditionalFieldValue:()=>L,valueFormatter:()=>A});var s=i(588537),n=i(575932),r=i(86674),a=(i(503246),i(436901)),o=i(530254),l=i(610203),d=i(40541);function c(){return(0,r.fetch)("/financial/fundamentals_config/",{credentials:"same-origin",headers:{"Content-Type":"application/json"},method:"GET"}).then((e=>e.json()))}function h(e){
return"balance sheet"===e||"income statements"===e||"cash flow"===e}function u(e){return e.filter((e=>!e.hidden&&e.financialVisible))}function _(e){return e.map((e=>{const{name:t,group:i,...s}=e;return{...s,name:(0,n.t)(t,{context:"study"}),group:(0,n.t)(i,{context:"study"})}}))}function m(e){return e.filter((e=>!e.hidden))}function p(e){var t,i;const n=Symbol(),r={},a={},o=[];for(const i of e){const e=(0,s.ensureDefined)(k(i.id)),l=e,d=k(i.parent),c=null!=d?d:n;c===n&&o.push(l);const h=r[l]={...i,nestingLevel:-1,idWithoutPeriod:e,parentIdWithoutPeriod:d,periodData:i.periodData||[],shortTitle:i.shortTitle||""};(a[c]=null!==(t=a[c])&&void 0!==t?t:[]).push(h)}for(const t of e){const e=(0,s.ensureDefined)(k(t.id));r[e].children=a[e],delete a[e]}(0,s.assert)(0===Object.keys(a).length);let l=0;for(;o.length>0&&l<e.length;){l++;const e=r[(0,s.ensureDefined)(o.shift())],t=e.parentIdWithoutPeriod;e.nestingLevel=t?r[t].nestingLevel+1:0,null===(i=e.children)||void 0===i||i.forEach((e=>{o.push(e.idWithoutPeriod)}))}return a[n]}function g(e){const t=[...e];return t.sort(((e,t)=>e.ordinal-t.ordinal)),t.forEach((e=>{e.children&&(e.children=g(e.children))})),t}function f(e,t,i){let s=[];return e.forEach((e=>{if(!e.children||!e.children.length)return void(s=[...s,e]);const n=i?e.children.filter(i):e.children;if(!n.length)return void(s=[...s,{...e,children:void 0}]);if(!!t&&t(e))return void(s=[...s,e]);const r=f(n,t,i);s=[...s,e,...r]})),s}function b(e){const t=[...e],i={dividends:[]};return t.forEach((e=>{const t=e.category.toLowerCase();i[t]?i[t].push(e):i[t]=[e]})),i}function v(e){if(!e.length)return{};const t=b(p(function(e){const t=new Map;for(const i of e){const e=(0,s.ensureDefined)(k(i.id)),n=e&&t.get(e);if(n)(0,s.ensureDefined)(n.periodData).push({period:i.period});else{const n={...i,idWithoutPeriod:(0,s.ensureDefined)(k(i.id)),nestingLevel:-1,periodData:[],shortTitle:""};n.periodData=[{period:i.period}],t.set(e,n)}}return Array.from(t.values())}(e))),i={};return Object.entries(t).forEach((([e,t])=>{i[e]=function(e){const t=g(e),i=new Map;return t.forEach((e=>{const{group:t,ordinal:s}=e,n=i.get(t);(void 0===n||n>s)&&i.set(t,s)})),t.sort(((e,t)=>(0,s.ensureDefined)(i.get(e.group))-(0,s.ensureDefined)(i.get(t.group))||e.ordinal-t.ordinal)),t}(t)})),i}function y(e,t,i){function s(e,t){const{children:n,...r}=e;if(n){const e=n.map((e=>s(e,t))).filter(Boolean);if(e.length)return{...r,children:e}}return e.name.toLowerCase().includes(t.toLowerCase())&&e.periodData.find((e=>e.period===i))?{...r,children:void 0}:null}return e.map((e=>s(e,t))).filter(Boolean)}function w(e,t,i=0,s,n,r=a.DEFAULT_MAX_DATA_ARRAY_LENGTH){const o=`${k(e)}_${s.toLowerCase()}`;let c=new Array(r).fill(null),h=[];if(t){const e=t[o+d.HISTORIC_VALUES_POSTFIX];if(e){const t=function(e,t,i,s){const n=e.length>i,r=e.slice(0,i).reverse(),a=[];if(s){const s=e.slice(0,i+1).reverse();s.forEach(((e,i)=>{if(0===i&&n)return;if(0===i)return void a.push(NaN);let r;r=t===l.PeriodId.Quarter?s[i-4]?x(Number(s[i-4]),Number(e)):NaN:x(Number(s[i-1]),Number(e)),a.push(r)}))}return{
values:r,changes:a}}(e,s,r,n);c=t.values,t.changes&&(h=t.changes)}if(0!==i&&3!==i){const e=t[k(o)+function(e){switch(e){case 2:return"_current";case 1:return"_ttm"}return""}(i)]||null,s=o.endsWith("_fq"),r=1===i;return{values:c,changes:n?h:void 0,additional:e,additionalChange:!n||r&&s?void 0:x(Number(c[c.length-1]),Number(e))}}}return{values:c,changes:n?h:void 0,additional:0===i?void 0:null}}function S(e){return null===e.Estimate&&null===e.Actual}function P(e,t){const i=e.length-1;let s=t?i:0;const n=t?[...e].reverse().entries():e.entries();for(const[e,t]of n)if(!S(t)){s=e;break}return t?i-s:s}function C(e){if(!e||!e.length)return{estimateStartIndex:-1,items:[]};if(!function(e){return e.every((e=>null!==e.FiscalPeriod))}(e)||e.every(S))return{estimateStartIndex:-1,items:[]};const t=[...e].sort(((e,t)=>e.FiscalPeriod>t.FiscalPeriod?1:-1));let i=null;for(let e=t.length-1;e--;e>=0){if(t[e].IsReported){i=e;break}}const s=null!==i?i+1:P(t,!0)-4,n=Math.max(0,s-8),r=Math.min(t.length,s+4),a=t.slice(n,r),o=P(a,!1);return{estimateStartIndex:s<8?s-o:8-o,items:a.slice(o)}}function T(e,t){if(e.reported.push(t.Actual),e.estimate.push(t.Estimate),null!==t.Actual&&null!==t.Estimate){const i=(t.Actual-t.Estimate)/Math.abs(t.Estimate)*100;e.surprise.push(isFinite(i)?i:null)}else e.surprise.push(null);return e.periods.push(t.FiscalPeriod),e}function E(e,t){if(!e)return null;const i=t===l.PeriodId.Year?"_fy":"_fq",s="earnings"+i+d.HISTORIC_VALUES_POSTFIX,n="revenues"+i+d.HISTORIC_VALUES_POSTFIX,{items:r,estimateStartIndex:a}=C(e[s]),o=r.reduce(T,{reported:[],estimate:[],surprise:[],periods:[]}),{items:c}=C(e[n]),h=c.reduce(T,{reported:[],estimate:[],surprise:[],periods:[]}),u=e=>!e.reported.length&&!e.estimate.length;return{earnings:u(o)?null:o,revenues:u(h)?null:h,estimateStartIndex:a}}function x(e,t){if(0===e)return NaN;return Number(((t-e)/Math.abs(e)*100).toFixed(2))}function k(e){if(e)for(let t=0;t<d.PERIOD_POSTFIXES.length;t++){const i=d.PERIOD_POSTFIXES[t];if(e.endsWith(i))return e.slice(0,-i.length)}return e}function I(e,t){const i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i}function D(e,t){let i=new Set;const s=Symbol();for(let n=0;n<e.length;n++){const{idWithoutPeriod:r,parentIdWithoutPeriod:a=s,children:o}=e[n];if(null==o?void 0:o.length){const e=D(o,t);i=new Set([...Array.from(i),...Array.from(e)])}(t.has(r)||i.size>0)&&a!==s&&i.add(a)}return i}function L(e){switch(e){case 2:return(0,n.t)("Current");case 1:return(0,n.t)("TTM");case 3:return"";case 0:return}}function A(e){return"string"==typeof e?e:null===e?"":(0,o.format)(e,"numbers")}},50201:(e,t,i)=>{"use strict";i.d(t,{SingleSymbolList:()=>a,registerSingleSymbolListBackend:()=>o});var s=i(575932),n=i(261309),r=i(564894);class a{constructor(e=[]){this._list={id:"DEFAULT_SINGLE_WATCHLIST",type:"custom",name:(0,s.t)("Watchlist"),description:null,symbols:[...e],shared:!1}}getCustomWatchLists(){return Promise.resolve([this._list])}getSymbols(e){return Promise.resolve(this._list.symbols)}createWatchList(e){throw new Error("not implemented")}putWatchList(e){
throw new Error("not implemented")}removeWatchList(e){throw new Error("not implemented")}renameWatchList(e,t){return Promise.resolve(t)}replaceSymbols(e,t){return this._list.symbols=[...t],Promise.resolve(this._list)}addSymbols(e,t){return this._list.symbols.push(...t),Promise.resolve(this._list.symbols)}removeSymbols(e,t){return this._list.symbols=this._list.symbols.filter((e=>!t.includes(e))),Promise.resolve(this._list.symbols)}setActive(e){return Promise.resolve(this._list)}getActive(){return Promise.resolve(this._list)}changeDescription(e,t){throw new Error("not implemented")}}function o(e){const t=new a(e);return(0,r.registerService)(n.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t),()=>{(0,r.unregisterService)(n.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE)}}},261309:(e,t,i)=>{"use strict";i.d(t,{SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE:()=>s});const s={id:"SymbolListRepositoryBackend"}},528282:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" fill="none"><g clip-path="url(#clip0)"><rect width="46" height="46" stroke="#D1D4DC" stroke-width="2" rx="1" x="9.877" y="20.247" transform="rotate(-14 9.877 20.247)"/><path stroke="#D1D4DC" stroke-linecap="round" stroke-width="2" d="M27.325 31.355l23.287-5.806"/><circle fill="#D1D4DC" cx="21.988" cy="32.686" r="1.5" transform="rotate(-14 21.988 32.686)"/><path stroke="#D1D4DC" stroke-linecap="round" stroke-width="2" d="M29.502 40.089l23.287-5.806"/><circle fill="#D1D4DC" cx="24.166" cy="41.42" r="1.5" transform="rotate(-14 24.166 41.42)"/><path stroke="#D1D4DC" stroke-linecap="round" stroke-width="2" d="M31.68 48.821l23.287-5.806"/><circle fill="#D1D4DC" cx="26.343" cy="50.152" r="1.5" transform="rotate(-14 26.343 50.152)"/><path stroke="#D1D4DC" stroke-linecap="round" stroke-width="2" d="M40.188 20.35l7.08-7.079"/><circle fill="#1848CC" stroke="#1E222D" stroke-width="2" cx="51" cy="9" r="7"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h72v72H0z"/></clipPath></defs></svg>'},73286:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" fill="none"><g clip-path="url(#clip0)"><rect width="46" height="46" stroke="#1E222D" stroke-width="2" rx="1" x="9.877" y="20.247" transform="rotate(-14 9.877 20.247)"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M27.325 31.355l23.287-5.806"/><circle fill="#1E222D" cx="21.988" cy="32.686" r="1.5" transform="rotate(-14 21.988 32.686)"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M29.502 40.089l23.287-5.806"/><circle fill="#1E222D" cx="24.166" cy="41.42" r="1.5" transform="rotate(-14 24.166 41.42)"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M31.68 48.821l23.287-5.806"/><circle fill="#1E222D" cx="26.343" cy="50.152" r="1.5" transform="rotate(-14 26.343 50.152)"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M40.188 20.35l7.08-7.079"/><circle fill="#2962FF" stroke="#fff" stroke-width="2" cx="51" cy="9" r="7"/></g><defs><clipPath id="clip0"><path fill="#fff" d="M0 0h72v72H0z"/></clipPath></defs></svg>'},
291753:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 11" width="22" height="11"><path fill="#2962FF" d="M5 0H0v4h5v7h4V0H5zm7 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm5 7h-5l4.5-11h4.99L17 11z"/></svg>'},864093:e=>{"use strict"
;e.exports=JSON.parse('{"ebitda":43000553610,"gross_profit":43000553611,"total_revenue":43000553619,"cost_of_goods":43000553618,"dep_amort_exp_income_s":43000563477,"cost_of_goods_excl_dep_amort":43000563478,"operating_expenses":43000563463,"sell_gen_admin_exp_total":43000553613,"sell_gen_admin_exp_other":43000553614,"research_and_dev":43000553612,"other_oper_expense_total":43000563483,"total_oper_expense":43000553615,"earnings_per_share_diluted":43000553616,"net_income":43000553617,"oper_income":43000563464,"total_non_oper_income":43000563465,"non_oper_interest_exp":43000563466,"interest_expense_on_debt":43000563467,"interest_capitalized":43000563468,"non_oper_income":43000563471,"non_oper_interest_income":43000563473,"pretax_equity_in_earnings":43000563474,"other_income":43000563479,"unusual_expense_inc":43000563476,"pretax_income":43000563462,"equity_in_earnings":43000563487,"income_tax":43000563492,"minority_interest_exp":43000563495,"after_tax_other_income":43000563497,"net_income_bef_disc_oper":43000563500,"discontinued_operations":43000563502,"dilution_adjustment":43000563504,"preferred_dividends":43000563506,"diluted_net_income":43000563516,"earnings_per_share_basic":43000563520,"total_liabilities_shrhldrs_equity":43000553626,"total_debt":43000553622,"total_assets":43000553623,"total_current_assets":43000557441,"cash_n_short_term_invest":43000563702,"cash_n_equivalents":43000563709,"short_term_invest":43000563716,"total_receivables_net":43000563738,"accounts_receivables_net":43000563740,"other_receivables":43000563741,"inventory_work_in_progress":43000563746,"inventory_progress_payments":43000563748,"inventory_finished_goods":43000563749,"inventory_raw_materials":43000563753,"prepaid_expenses":43000563757,"other_current_assets_total":43000563761,"total_non_current_assets":43000557440,"long_term_investments":43000563639,"long_term_note_receivable":43000563641,"investments_in_unconcsolidate":43000563645,"other_investments":43000563649,"ppe_total_net":43000563657,"ppe_total_gross":43000563667,"accum_deprec_total":43000563673,"deferred_tax_assests":43000563683,"intangibles_net":43000563686,"goodwill":43000563688,"other_intangibles_net":43000563689,"long_term_other_assets_total":43000563693,"total_liabilities":43000553624,"total_current_liabilities":43000557437,"short_term_debt":43000563554,"current_port_debt_capital_leases":43000563557,"short_term_debt_excl_current_port":43000563563,"notes_payable_short_term_debt":43000563600,"other_short_term_debt":43000563614,"accounts_payable":43000563619,"income_tax_payable":43000563621,"dividends_payable":43000563624,"accrued_payroll":43000563628,"deferred_income_current":43000563631,"other_current_liabilities":43000563635,"total_non_current_liabilities":43000557436,"long_term_debt":43000553621,"long_term_debt_excl_capital_lease":43000563521,"capital_operating_lease_obligations":43000563522,"capital_lease_obligations":43000563527,"operating_lease_liabilities":43000563532,"provision_f_risks":43000563535,"deferred_tax_liabilities":43000563536,"deferred_income_non_current":43000563540,"other_liabilities_total":43000563545,"total_equity":43000553625,"shrhldrs_equity":43000557442,"common_equity_total":43000563866,"retained_earnings":43000563867,"paid_in_capital":43000563871,"common_stock_par":43000563873,"additional_paid_in_capital":43000563874,"treasury_stock_common":43000563875,"other_common_equity":43000563877,"preferred_stock_carrying_value":43000563879,"minority_interest":43000563884,"free_cash_flow":43000553630,"cash_f_operating_activities":43000553627,"funds_f_operations":43000563886,"net_income_starting_line":43000563888,"cash_flow_deprecation_n_amortization":43000563892,"depreciation_depletion":43000564142,"amortization":43000564143,"cash_flow_deferred_taxes":43000564144,"non_cash_items":43000564146,"total_extra_items":43000564145,"changes_in_working_capital":43000564147,"change_in_accounts_receivable":43000564148,"change_in_taxes_payable":43000564149,"change_in_accounts_payable":43000564150,"change_in_accrued_expenses":43000564151,"change_in_inventories":43000564153,"change_in_other_assets":43000564154,"cash_f_investing_activities":43000553628,"purchase_sale_business":43000564156,"sales_of_business":43000564158,"purchase_of_business":43000564159,"purchase_sale_investments":43000564160,"sales_of_investments":43000564161,"purchase_of_investments":43000564162,"other_investing_cash_flow_items_total":43000564163,"other_investing_cash_flow_sources":43000564164,"other_investing_cash_flow_uses":43000564165,"capital_expenditures":43000564166,"capital_expenditures_fixed_assets":43000564167,"capital_expenditures_other_assets":43000564168,"cash_f_financing_activities":43000553629,"issuance_of_stock_net":43000564169,"sale_of_stock":43000564170,"purchase_of_stock":43000564171,"issuance_of_debt_net":43000564172,"issuance_of_short_term_debt":43000564173,"issuance_of_long_term_debt":43000564175,"supplying_of_long_term_debt":43000564176,"reduction_of_long_term_debt":43000564177,"issuance_of_other_debt":43000564178,"other_financing_cash_flow_items_total":43000564179,"other_financing_cash_flow_sources":43000564181,"other_financing_cash_flow_uses":43000564182,"total_cash_dividends_paid":43000564183,"common_dividends_cash_flow":43000564185,"preferred_dividends_cash_flow":43000564186,"market_cap_basic":43000597015,"number_of_employees":43000597080,"dividends_yield":43000597817,"dividend_payout_ratio":43000597738,"price_earnings":43000597017,"price_sales":43000597019,"price_cash_flow":43000597816,"price_book":43000597016,"enterprise_value":43000597077,"enterprise_value_ebitda":43000597064,"ev_ebit":43000597063,"ev_revenue":43000597065,"price_to_free_cash_flow":43000597814,"price_to_tangible_book":43000597815,"price_earnings_forward":43000597831,"price_sales_forward":43000597832,"return_on_assets":43000597054,"return_on_equity":43000597021,"return_on_invested_capital":43000597056,"gross_margin":43000597811,"operating_margin":43000597076,"ebitda_margin":43000597075,"net_margin":43000597074,"return_on_equity_adjust_to_book":43000597055,"return_on_tang_assets":43000597052,"return_on_tang_equity":43000597053,"free_cash_flow_margin":43000597813,"quick_ratio":43000597050,"current_ratio":43000597051,"invent_turnover":43000597046,"asset_turnover":43000597022,"debt_to_asset":43000597031,"debt_to_equity":43000597078,"long_term_debt_to_assets":43000597048,"debt_to_ebitda":43000597032,"debt_to_revenue":43000597033,"effective_interest_rate_on_debt":43000597034,"equity_to_asset":43000597035,"goodwill_to_asset":43000597036,"interst_cover":43000597037,"invent_to_revenue":43000597047,"share_buyback_ratio":43000597057,"sloan_ratio":43000597058,"earnings_estimate":43000597066,"sales_estimates":43000597067,"revenue_one_year_growth":43000597068,"earnings_per_share_basic_one_year_growth":43000597069,"earnings_per_share_diluted_one_year_growth":43000597071,"accruals_ratio":43000597073,"tangible_common_equity_ratio":43000597079,"revenue_per_employee":43000597081,"net_income_per_employee":43000597082,"graham_numbers":43000597084,"ncavps_ratio":43000597085,"quality_ratio":43000597086,"gross_profit_to_asset":43000597087,"buyback_yield":43000597088,"cash_conversion_cycle":43000597089,"peg_ratio":43000597090,"altman_z_score":43000597092,"piotroski_f_score":43000597734,"sustainable_growth_rate":43000597736,"research_and_develop_to_revenue":43000597739,"earnings_yield":43000597010,"tobin_q_ratio":43000597834,"beneish_m_score":43000597835,"kz_index":43000597844,"fulmer_h_factor":43000597847,"springate_score":43000597848,"zmijewski_score":43000597850,"cash_to_debt":43000597023,"cogs_to_revenue":43000597026,"days_invent":43000597028,"days_pay":43000597029,"day_sales_out":43000597030,"price_free_cash_flow":43000597814,"price_tangible_book":43000597815,"book_value_per_share":43000670330,"book_tangible_per_share":43000597072,"return_on_common_equity":43000656797,"ebit":43000670329,"total_shares_outstanding":43000670331,"float_shares_outstanding":43000670341,"dps_common_stock_prim_issue":43000670334,"basic_shares_outstanding":43000670320,"diluted_shares_outstanding":43000670322,"total_inventory":43000563745,"net_debt":43000665310}')
}},e=>{e.O(0,[15107,93419,4704,22641,29806,13991,87234,55335,23500,24377,75932,98037,23262,53748,23127,24951,8587,50458,69710,65489,35142,88710,4572,47872,9103,51299,93987,85518,96213,37004,64679,48874,40968,391,63191,25192,353,75435,79587,55114,65687,57317],(()=>{return t=691116,e(e.s=t);var t}));e.O()}]);